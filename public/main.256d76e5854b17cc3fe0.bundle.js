(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(16),__webpack_require__(15),__webpack_require__(18),__webpack_require__(21),__webpack_require__(27);var _class,_class2,_temp,react=__webpack_require__(1),react_default=__webpack_require__.n(react),prop_types=__webpack_require__(4),prop_types_default=__webpack_require__.n(prop_types),redux=__webpack_require__(19),lib=__webpack_require__(14),react_beautiful_dnd_cjs=__webpack_require__(82),conversions=(__webpack_require__(103),__webpack_require__(121)),classnames=__webpack_require__(41),classnames_default=__webpack_require__.n(classnames),react_dom=(__webpack_require__(89),__webpack_require__(42)),react_dom_default=__webpack_require__.n(react_dom),AnimateHeight=__webpack_require__(83),AnimateHeight_default=__webpack_require__.n(AnimateHeight),utils=__webpack_require__(2);__webpack_require__(163);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _slicedToArray(arr,i){return function(arr){if(Array.isArray(arr))return arr}(arr)||function(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function _defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var AddButton_AddButton=Object(lib.connect)(function(state,props){var blockDefinitions,fieldId=props.fieldId,parentId=props.parentId,blockId=props.blockId,field=state[fieldId];blockDefinitions=parentId?Object(utils.i)(state,fieldId,parentId).children:field.blockDefinitions;var index=0;return void 0!==blockId&&(index=Object(utils.l)(state,fieldId,blockId).indexOf(blockId)+1),{blockDefinitions:blockDefinitions,index:index,icons:field.icons,labels:field.labels}},function(dispatch,props){var fieldId=props.fieldId,parentId=props.parentId;return Object(redux.bindActionCreators)({addBlock:function(index,blockType){return function(fieldId,parentId,index,blockType){return{type:"ADD_BLOCK",fieldId:fieldId,parentId:parentId,index:index,blockType:blockType}}(fieldId,parentId,index,blockType)}},dispatch)})((_temp=_class2=function(_React$Component){function AddButton(props){var _this,self,call;return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,AddButton),self=this,call=_getPrototypeOf(AddButton).call(this,props),_this=!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call,_defineProperty(_assertThisInitialized(_this),"toggle",function(event){event.preventDefault(),event.stopPropagation(),_this.hasChoice?_this.setState(function(state){return{open:!state.open}}):_this.props.addBlock(_this.props.index,_this.props.blockDefinitions[0].key)}),_defineProperty(_assertThisInitialized(_this),"addHandler",function(event){_this.props.addBlock(_this.props.index,event.target.closest("button").value),_this.toggle(event)}),_this.state={open:props.open},_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(AddButton,react_default.a.Component),Constructor=AddButton,(protoProps=[{key:"getIcon",value:function(blockDefinition){var icon=blockDefinition.icon;return Object(utils.o)(icon)?null:react_default.a.createElement("span",{className:"c-sf-button__icon",dangerouslySetInnerHTML:{__html:icon}})}},{key:"render",value:function(){var _this2=this,_this$props=this.props,visible=_this$props.visible,icons=_this$props.icons,labels=_this$props.labels,button=react_default.a.createElement("button",{onClick:this.toggle,title:labels.add,className:classnames_default()("c-sf-add-button",visible&&"c-sf-add-button--visible",this.state.open&&this.hasChoice&&"c-sf-add-button--close"),dangerouslySetInnerHTML:{__html:icons.add}});return this.hasChoice?react_default.a.createElement(react_default.a.Fragment,null,button,react_default.a.createElement(AnimateHeight_default.a,{height:this.panelHeight,easing:"ease-in-out",contentClassName:"c-sf-add-panel"},Object.entries(this.groupedBlockDefinitions).map(function(_ref){var _ref2=_slicedToArray(_ref,2),group=_ref2[0],blockDefinitions=_ref2[1];return react_default.a.createElement(react_default.a.Fragment,{key:group},group?react_default.a.createElement("h4",{className:"c-sf-add-panel__group-title"},group):null,react_default.a.createElement("div",{className:"c-sf-add-panel__grid"},blockDefinitions.map(function(blockDefinition){return react_default.a.createElement("button",{key:blockDefinition.key,onClick:_this2.addHandler,value:blockDefinition.key,className:"c-sf-button"},_this2.getIcon(blockDefinition),react_default.a.createElement("span",{className:"c-sf-button__label"},Object(utils.h)(blockDefinition)))})))}))):button}},{key:"hasChoice",get:function(){return 1!==this.props.blockDefinitions.length}},{key:"panelHeight",get:function(){return this.state.open&&this.props.visible?"auto":0}},{key:"groupedBlockDefinitions",get:function(){var grouped={},_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=this.props.blockDefinitions[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var blockDefinition=_step.value,key=blockDefinition.group||"",others=grouped[key]||[];others.push(blockDefinition),grouped[key]=others}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return grouped}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),AddButton;var Constructor,protoProps,staticProps}(),_defineProperty(_class2,"defaultProps",{open:!1,visible:!0}),_class=_temp))||_class,src_AddButton=AddButton_AddButton;AddButton_AddButton.__docgenInfo={description:"",methods:[{name:"hasChoice",docblock:null,modifiers:["get"],params:[],returns:null},{name:"toggle",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"addHandler",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"getIcon",docblock:null,modifiers:[],params:[{name:"blockDefinition",type:null}],returns:null},{name:"panelHeight",docblock:null,modifiers:["get"],params:[],returns:null},{name:"groupedBlockDefinitions",docblock:null,modifiers:["get"],params:[],returns:null}],displayName:"AddButton",props:{open:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},visible:{defaultValue:{value:"true",computed:!1},type:{name:"bool"},required:!1,description:""},fieldId:{type:{name:"string"},required:!0,description:""},parentId:{type:{name:"string"},required:!1,description:""},blockId:{type:{name:"string"},required:!1,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/AddButton.js"]={name:"AddButton",docgenInfo:AddButton_AddButton.__docgenInfo,path:"src/AddButton.js"});__webpack_require__(109),__webpack_require__(65),__webpack_require__(78),__webpack_require__(79),__webpack_require__(110),__webpack_require__(246),__webpack_require__(238);function RawHtmlFieldInput_typeof(obj){return(RawHtmlFieldInput_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function RawHtmlFieldInput_defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function RawHtmlFieldInput_getPrototypeOf(o){return(RawHtmlFieldInput_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function RawHtmlFieldInput_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function RawHtmlFieldInput_setPrototypeOf(o,p){return(RawHtmlFieldInput_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var FieldInput_class,RawHtmlFieldInput_RawHtmlFieldInput=function(_React$Component){function RawHtmlFieldInput(){var _getPrototypeOf2,_this,obj,key,value,self,call;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,RawHtmlFieldInput);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return self=this,call=(_getPrototypeOf2=RawHtmlFieldInput_getPrototypeOf(RawHtmlFieldInput)).call.apply(_getPrototypeOf2,[this].concat(args)),_this=!call||"object"!==RawHtmlFieldInput_typeof(call)&&"function"!=typeof call?RawHtmlFieldInput_assertThisInitialized(self):call,obj=RawHtmlFieldInput_assertThisInitialized(_this),value=function(event){var value,input=event.target;if("file"===input.type)value=input.files;else if("checkbox"===input.type||"radio"===input.type){var boxes=_this.inputs;value=boxes.filter(function(box){return box.checked}).map(function(box){return box.value});var previousValue=_this.props.value;if("radio"===input.type){if(previousValue){boxes.filter(function(box){return box.value===previousValue})[0].checked=!1;var index=value.indexOf(previousValue);-1<index&&value.splice(index,1)}value=0<value.length?value[0]:null}}else value="SELECT"===input.tagName?input.options[input.selectedIndex].value:input.value;_this.props.changeBlockValue(value)},(key="onChange")in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&RawHtmlFieldInput_setPrototypeOf(subClass,superClass)}(RawHtmlFieldInput,react_default.a.Component),Constructor=RawHtmlFieldInput,(protoProps=[{key:"runInnerScripts",value:function(){if(Object(utils.s)(this.props.blockDefinition)){var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,script,_iterator=react_dom_default.a.findDOMNode(this).querySelectorAll("script")[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0)(script=_step.value).parentNode.removeChild(script),window.eval(script.innerHTML)}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}}}},{key:"setValue",value:function(input){var value=this.props.value;null!=value&&("file"===input.type?input.files=value:"checkbox"===input.type||"radio"===input.type?input.checked=null!==value&&("boolean"==typeof value?value:value.includes(input.value)):"hidden"===input.type?(input.value=value,input.dispatchEvent(new Event("change"))):input.value=value)}},{key:"bindChange",value:function(input){if("hidden"===input.type){var observer=new MutationObserver(function(){input.dispatchEvent(new Event("change"))});observer.observe(input,{attributes:!0,attributeFilter:["value"]}),this.mutationObservers.push(observer)}input.addEventListener("change",this.onChange)}},{key:"unbindChange",value:function(input){input.removeEventListener("change",this.onChange)}},{key:"componentDidMount",value:function(){var _this$props=this.props,blockDefinition=_this$props.blockDefinition,blockId=_this$props.blockId;if(!Object(utils.p)(blockDefinition)){var name=Object(utils.g)(blockId);if(this.inputs=_toConsumableArray(react_dom_default.a.findDOMNode(this).querySelectorAll('[name="'.concat(name,'"]'))),0===this.inputs.length)throw Error('Could not find input with name "'.concat(name,'"'));this.mutationObservers=[];var _iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _step2,input,_iterator2=this.inputs[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0)input=_step2.value,this.setValue(input),this.bindChange(input),input.removeAttribute("name")}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{_iteratorNormalCompletion2||null==_iterator2.return||_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}}this.runInnerScripts()}},{key:"componentWillUnmount",value:function(){if(!Object(utils.p)(this.props.blockDefinition)){var _iteratorNormalCompletion3=!0,_didIteratorError3=!1,_iteratorError3=void 0;try{for(var _step3,_iterator3=this.mutationObservers[Symbol.iterator]();!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=!0)_step3.value.disconnect()}catch(err){_didIteratorError3=!0,_iteratorError3=err}finally{try{_iteratorNormalCompletion3||null==_iterator3.return||_iterator3.return()}finally{if(_didIteratorError3)throw _iteratorError3}}var _iteratorNormalCompletion4=!0,_didIteratorError4=!1,_iteratorError4=void 0;try{for(var _step4,input,_iterator4=this.inputs[Symbol.iterator]();!(_iteratorNormalCompletion4=(_step4=_iterator4.next()).done);_iteratorNormalCompletion4=!0)input=_step4.value,this.unbindChange(input)}catch(err){_didIteratorError4=!0,_iteratorError4=err}finally{try{_iteratorNormalCompletion4||null==_iterator4.return||_iterator4.return()}finally{if(_didIteratorError4)throw _iteratorError4}}}}},{key:"render",value:function(){return react_default.a.createElement("div",{dangerouslySetInnerHTML:{__html:this.html}})}},{key:"html",get:function(){var _this$props2=this.props,blockDefinition=_this$props2.blockDefinition,html=_this$props2.html,blockId=_this$props2.blockId;return Object(utils.p)(blockDefinition)?html:html.replace(/__ID__/g,blockId)}}])&&RawHtmlFieldInput_defineProperties(Constructor.prototype,protoProps),staticProps&&RawHtmlFieldInput_defineProperties(Constructor,staticProps),RawHtmlFieldInput;var Constructor,protoProps,staticProps}(),src_RawHtmlFieldInput=RawHtmlFieldInput_RawHtmlFieldInput;function FieldInput_typeof(obj){return(FieldInput_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function FieldInput_defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function FieldInput_possibleConstructorReturn(self,call){return!call||"object"!==FieldInput_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function FieldInput_getPrototypeOf(o){return(FieldInput_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function FieldInput_setPrototypeOf(o,p){return(FieldInput_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}RawHtmlFieldInput_RawHtmlFieldInput.__docgenInfo={description:"",methods:[{name:"runInnerScripts",docblock:null,modifiers:[],params:[],returns:null},{name:"setValue",docblock:null,modifiers:[],params:[{name:"input",type:null}],returns:null},{name:"bindChange",docblock:null,modifiers:[],params:[{name:"input",type:null}],returns:null},{name:"unbindChange",docblock:null,modifiers:[],params:[{name:"input",type:null}],returns:null},{name:"onChange",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"html",docblock:null,modifiers:["get"],params:[],returns:null}],displayName:"RawHtmlFieldInput",props:{fieldId:{type:{name:"string"},required:!0,description:""},blockDefinition:{type:{name:"object"},required:!0,description:""},blockId:{type:{name:"string"},required:!0,description:""},html:{type:{name:"string"},required:!0,description:""},value:{type:{name:"any"},required:!1,description:""},changeBlockValue:{type:{name:"func"},required:!0,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/RawHtmlFieldInput.js"]={name:"RawHtmlFieldInput",docgenInfo:RawHtmlFieldInput_RawHtmlFieldInput.__docgenInfo,path:"src/RawHtmlFieldInput.js"});var StructChildField_class,FieldInput_FieldInput=Object(lib.connect)(function(state,props){var fieldId=props.fieldId,blockId=props.blockId,block=state[fieldId].blocks[blockId];return{blockDefinition:Object(utils.i)(state,fieldId,blockId),html:block.html,value:block.value}},function(dispatch,props){var fieldId=props.fieldId,blockId=props.blockId;return Object(redux.bindActionCreators)({changeBlockValue:function(value){return function(fieldId,blockId,value){return{type:"CHANGE_BLOCK_VALUES",fieldId:fieldId,blockId:blockId,value:value}}(fieldId,blockId,value)}},dispatch)})(FieldInput_class=function(_React$Component){function FieldInput(){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,FieldInput),FieldInput_possibleConstructorReturn(this,FieldInput_getPrototypeOf(FieldInput).apply(this,arguments))}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&FieldInput_setPrototypeOf(subClass,superClass)}(FieldInput,react_default.a.Component),Constructor=FieldInput,(protoProps=[{key:"render",value:function(){var _this$props=this.props,fieldId=_this$props.fieldId,blockDefinition=_this$props.blockDefinition,blockId=_this$props.blockId,value=_this$props.value;if(Object(utils.q)(blockDefinition))return react_default.a.createElement(src_Block,{fieldId:fieldId,id:blockId,standalone:!0,sortable:!1,collapsible:blockDefinition.collapsible});var html=this.props.html;if(Object(utils.o)(html)&&(html=blockDefinition.html),Object(utils.n)(blockDefinition))return Object(utils.o)(html)&&(html='<input id="'.concat(blockId,'" name="').concat(Object(utils.g)(blockId),'"\n                       type="text" />')),react_default.a.createElement(src_RawHtmlFieldInput,{fieldId:fieldId,blockDefinition:blockDefinition,blockId:blockId,html:html,value:value,changeBlockValue:this.props.changeBlockValue});var blocksContainer=react_default.a.createElement(src_BlocksContainer,{fieldId:fieldId,id:blockId});return Object(utils.o)(html)?blocksContainer:Object(utils.r)(html,"<noscript data-blocks-container></noscript>",blocksContainer)}}])&&FieldInput_defineProperties(Constructor.prototype,protoProps),staticProps&&FieldInput_defineProperties(Constructor,staticProps),FieldInput;var Constructor,protoProps,staticProps}())||FieldInput_class,src_FieldInput=FieldInput_FieldInput;function StructChildField_typeof(obj){return(StructChildField_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function StructChildField_defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function StructChildField_possibleConstructorReturn(self,call){return!call||"object"!==StructChildField_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function StructChildField_getPrototypeOf(o){return(StructChildField_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function StructChildField_setPrototypeOf(o,p){return(StructChildField_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}FieldInput_FieldInput.__docgenInfo={description:"",methods:[],displayName:"FieldInput",props:{fieldId:{type:{name:"string"},required:!0,description:""},blockId:{type:{name:"string"},required:!0,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/FieldInput.js"]={name:"FieldInput",docgenInfo:FieldInput_FieldInput.__docgenInfo,path:"src/FieldInput.js"});var BlockContent_class,BlockContent_class2,BlockContent_temp,StructChildField_StructChildField=Object(lib.connect)(function(state,props){var fieldId=props.fieldId,parentBlockId=props.parentBlockId,type=props.type,blocks=state[fieldId].blocks,blockId=blocks[parentBlockId].value.find(function(childBlockId){return blocks[childBlockId].type===type});return{blockDefinition:Object(utils.i)(state,fieldId,blockId),blockId:blockId}})(StructChildField_class=function(_React$Component){function StructChildField(){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,StructChildField),StructChildField_possibleConstructorReturn(this,StructChildField_getPrototypeOf(StructChildField).apply(this,arguments))}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&StructChildField_setPrototypeOf(subClass,superClass)}(StructChildField,react_default.a.Component),Constructor=StructChildField,(protoProps=[{key:"render",value:function(){var _this$props=this.props,fieldId=_this$props.fieldId,blockId=_this$props.blockId,blockDefinition=_this$props.blockDefinition;return react_default.a.createElement("div",{className:classnames_default()("field",!!blockDefinition.required&&"required")},react_default.a.createElement("label",{className:"field__label",htmlFor:Object(utils.g)(blockId)},Object(utils.h)(blockDefinition)),react_default.a.createElement(src_FieldInput,{fieldId:fieldId,blockId:blockId}))}}])&&StructChildField_defineProperties(Constructor.prototype,protoProps),staticProps&&StructChildField_defineProperties(Constructor,staticProps),StructChildField;var Constructor,protoProps,staticProps}())||StructChildField_class,src_StructChildField=StructChildField_StructChildField;function BlockContent_typeof(obj){return(BlockContent_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function BlockContent_defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function BlockContent_possibleConstructorReturn(self,call){return!call||"object"!==BlockContent_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function BlockContent_getPrototypeOf(o){return(BlockContent_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function BlockContent_setPrototypeOf(o,p){return(BlockContent_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}StructChildField_StructChildField.__docgenInfo={description:"",methods:[],displayName:"StructChildField",props:{fieldId:{type:{name:"string"},required:!0,description:""},parentBlockId:{type:{name:"string"},required:!0,description:""},type:{type:{name:"string"},required:!0,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/StructChildField.js"]={name:"StructChildField",docgenInfo:StructChildField_StructChildField.__docgenInfo,path:"src/StructChildField.js"});var obj,key,value,BlockActions_class,BlockActions_class2,BlockActions_temp,BlockContent_BlockContent=Object(lib.connect)(function(state,props){var fieldId=props.fieldId,blockId=props.blockId,blocks=state[fieldId].blocks,block=blocks[blockId],blockDefinition=Object(utils.i)(state,fieldId,blockId),hasDescendantError=Object(utils.f)(state,fieldId,blockId,!0).some(function(descendantBlockId){return blocks[descendantBlockId].hasError});return{blockDefinition:blockDefinition,html:block.html,closed:block.closed&&!hasDescendantError}})((BlockContent_temp=BlockContent_class2=function(_React$Component){function BlockContent(){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,BlockContent),BlockContent_possibleConstructorReturn(this,BlockContent_getPrototypeOf(BlockContent).apply(this,arguments))}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&BlockContent_setPrototypeOf(subClass,superClass)}(BlockContent,react_default.a.Component),Constructor=BlockContent,(protoProps=[{key:"render",value:function(){var _this$props=this.props,blockDefinition=_this$props.blockDefinition,collapsible=_this$props.collapsible,content=this.html,className=classnames_default()("c-sf-block__content-inner",blockDefinition.className);return collapsible?react_default.a.createElement(AnimateHeight_default.a,{height:this.height,easing:"ease-in-out",className:"c-sf-block__content",contentClassName:className},content):react_default.a.createElement("div",{className:"c-sf-block__content"},react_default.a.createElement("div",{className:className},content))}},{key:"html",get:function(){var _this$props2=this.props,fieldId=_this$props2.fieldId,blockDefinition=_this$props2.blockDefinition,blockId=_this$props2.blockId;if(Object(utils.q)(blockDefinition)){var blocksContainer=blockDefinition.children.map(function(childBlockDefinition){return react_default.a.createElement(src_StructChildField,{key:childBlockDefinition.key,fieldId:fieldId,parentBlockId:blockId,type:childBlockDefinition.key})}),html=this.props.html;return Object(utils.o)(html)&&(html=blockDefinition.html),Object(utils.o)(html)?blocksContainer:Object(utils.r)(html,"<noscript data-blocks-container></noscript>",blocksContainer)}return react_default.a.createElement(src_FieldInput,{fieldId:fieldId,blockId:blockId})}},{key:"height",get:function(){return this.props.closed?0:"auto"}}])&&BlockContent_defineProperties(Constructor.prototype,protoProps),staticProps&&BlockContent_defineProperties(Constructor,staticProps),BlockContent;var Constructor,protoProps,staticProps}(),value={collapsible:!0},(key="defaultProps")in(obj=BlockContent_class2)?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,BlockContent_class=BlockContent_temp))||BlockContent_class,src_BlockContent=BlockContent_BlockContent;function BlockActions_typeof(obj){return(BlockActions_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function BlockActions_defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function BlockActions_getPrototypeOf(o){return(BlockActions_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function BlockActions_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function BlockActions_setPrototypeOf(o,p){return(BlockActions_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function BlockActions_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}BlockContent_BlockContent.__docgenInfo={description:"",methods:[{name:"html",docblock:null,modifiers:["get"],params:[],returns:null},{name:"height",docblock:null,modifiers:["get"],params:[],returns:null}],displayName:"BlockContent",props:{collapsible:{defaultValue:{value:"true",computed:!1},type:{name:"bool"},required:!1,description:""},fieldId:{type:{name:"string"},required:!0,description:""},blockId:{type:{name:"string"},required:!0,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/BlockContent.js"]={name:"BlockContent",docgenInfo:BlockContent_BlockContent.__docgenInfo,path:"src/BlockContent.js"});var BlockHeader_class,BlockHeader_class2,BlockHeader_temp,BlockActions_BlockActions=Object(lib.connect)(function(state,props){var fieldId=props.fieldId,blockId=props.blockId,blockDefinition=Object(utils.i)(state,fieldId,blockId),siblings=Object(utils.l)(state,fieldId,blockId),field=state[fieldId];return{blockDefinition:blockDefinition,siblings:siblings,icons:field.icons,labels:field.labels,index:siblings.indexOf(blockId)}},function(dispatch,props){var fieldId=props.fieldId,blockId=props.blockId;return Object(redux.bindActionCreators)({hideBlock:function(){return function(fieldId,blockId){return{type:"HIDE_BLOCK",fieldId:fieldId,blockId:blockId}}(fieldId,blockId)},duplicateBlock:function(){return function(fieldId,blockId){return{type:"DUPLICATE_BLOCK",fieldId:fieldId,blockId:blockId}}(fieldId,blockId)}},dispatch)})((BlockActions_temp=BlockActions_class2=function(_React$Component){function BlockActions(){var _getPrototypeOf2,_this,self,call;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,BlockActions);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return self=this,call=(_getPrototypeOf2=BlockActions_getPrototypeOf(BlockActions)).call.apply(_getPrototypeOf2,[this].concat(args)),_this=!call||"object"!==BlockActions_typeof(call)&&"function"!=typeof call?BlockActions_assertThisInitialized(self):call,BlockActions_defineProperty(BlockActions_assertThisInitialized(_this),"sendKeyToDragHandle",function(key){var dragHandle=react_dom_default.a.findDOMNode(_this.props.dragHandleRef.current);return Object(utils.v)(dragHandle,32),new Promise(function(resolve){setTimeout(function(){Object(utils.v)(dragHandle,key),setTimeout(function(){Object(utils.v)(dragHandle,32),resolve()},100)},0)})}),BlockActions_defineProperty(BlockActions_assertThisInitialized(_this),"moveUpHandler",function(event){event.preventDefault(),event.stopPropagation(),_this.sendKeyToDragHandle(38).then(function(){_this.triggerCustomEvent("move",{index:_this.props.index})})}),BlockActions_defineProperty(BlockActions_assertThisInitialized(_this),"moveDownHandler",function(event){event.preventDefault(),event.stopPropagation(),_this.sendKeyToDragHandle(40).then(function(){_this.triggerCustomEvent("move",{index:_this.props.index})})}),BlockActions_defineProperty(BlockActions_assertThisInitialized(_this),"duplicateHandler",function(event){event.preventDefault(),event.stopPropagation(),_this.props.duplicateBlock(),_this.triggerCustomEvent("duplicate")}),BlockActions_defineProperty(BlockActions_assertThisInitialized(_this),"deleteHandler",function(event){event.preventDefault(),event.stopPropagation(),_this.props.hideBlock()}),_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&BlockActions_setPrototypeOf(subClass,superClass)}(BlockActions,react_default.a.Component),Constructor=BlockActions,(protoProps=[{key:"triggerCustomEvent",value:function(name){var data=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;Object(utils.u)(react_dom_default.a.findDOMNode(this),name,data)}},{key:"render",value:function(){var _this$props=this.props,blockDefinition=_this$props.blockDefinition,sortableBlock=_this$props.sortableBlock,canDuplicate=_this$props.canDuplicate,standalone=_this$props.standalone,icons=_this$props.icons,labels=_this$props.labels;return react_default.a.createElement("div",{className:"c-sf-block__actions"},react_default.a.createElement("span",{className:"c-sf-block__type"},Object(utils.h)(blockDefinition)),standalone?null:react_default.a.createElement(react_default.a.Fragment,null,sortableBlock?react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement("button",{className:"c-sf-block__actions__single",onClick:this.moveUpHandler,title:labels.moveUp,disabled:this.isFirst,dangerouslySetInnerHTML:{__html:icons.moveUp}}),react_default.a.createElement("button",{className:"c-sf-block__actions__single",onClick:this.moveDownHandler,title:labels.moveDown,disabled:this.isLast,dangerouslySetInnerHTML:{__html:icons.moveDown}})):null,react_default.a.createElement("button",{className:"c-sf-block__actions__single",onClick:this.duplicateHandler,title:labels.duplicate,disabled:!canDuplicate,dangerouslySetInnerHTML:{__html:icons.duplicate}}),react_default.a.createElement("button",{className:"c-sf-block__actions__single",onClick:this.deleteHandler,title:labels.delete,dangerouslySetInnerHTML:{__html:icons.delete}})))}},{key:"isFirst",get:function(){return 0===this.props.index}},{key:"isLast",get:function(){return this.props.index===this.props.siblings.length-1}}])&&BlockActions_defineProperties(Constructor.prototype,protoProps),staticProps&&BlockActions_defineProperties(Constructor,staticProps),BlockActions;var Constructor,protoProps,staticProps}(),BlockActions_defineProperty(BlockActions_class2,"defaultProps",{sortableBlock:!0,canDuplicate:!0,standalone:!1}),BlockActions_class=BlockActions_temp))||BlockActions_class,src_BlockActions=BlockActions_BlockActions;function BlockHeader_typeof(obj){return(BlockHeader_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _extends(){return(_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i])Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target}).apply(this,arguments)}function BlockHeader_defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function BlockHeader_getPrototypeOf(o){return(BlockHeader_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function BlockHeader_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function BlockHeader_setPrototypeOf(o,p){return(BlockHeader_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function BlockHeader_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}BlockActions_BlockActions.__docgenInfo={description:"",methods:[{name:"isFirst",docblock:null,modifiers:["get"],params:[],returns:null},{name:"isLast",docblock:null,modifiers:["get"],params:[],returns:null},{name:"triggerCustomEvent",docblock:null,modifiers:[],params:[{name:"name",type:null},{name:"data",type:null}],returns:null},{name:"sendKeyToDragHandle",docblock:null,modifiers:[],params:[{name:"key",type:null}],returns:null},{name:"moveUpHandler",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"moveDownHandler",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"duplicateHandler",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"deleteHandler",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null}],displayName:"BlockActions",props:{sortableBlock:{defaultValue:{value:"true",computed:!1},type:{name:"bool"},required:!1,description:""},canDuplicate:{defaultValue:{value:"true",computed:!1},type:{name:"bool"},required:!1,description:""},standalone:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},fieldId:{type:{name:"string"},required:!0,description:""},blockId:{type:{name:"string"},required:!0,description:""},dragHandleRef:{type:{name:"custom",raw:"refType"},required:!1,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/BlockActions.js"]={name:"BlockActions",docgenInfo:BlockActions_BlockActions.__docgenInfo,path:"src/BlockActions.js"});var Block_class,Block_class2,Block_temp,BlockHeader_BlockHeader=Object(lib.connect)(function(state,props){var fieldId=props.fieldId,blockId=props.blockId,fieldData=state[fieldId],block=fieldData.blocks[blockId],blockDefinition=Object(utils.i)(state,fieldId,blockId),value=block.value;return{blockDefinition:blockDefinition,icons:fieldData.icons,value:Object(utils.q)(blockDefinition)?Object(utils.t)(state,fieldId,value):value}},function(dispatch,props){var fieldId=props.fieldId,blockId=props.blockId;return Object(redux.bindActionCreators)({toggleBlock:function(){return function(fieldId,blockId){return{type:"TOGGLE_BLOCK",fieldId:fieldId,blockId:blockId}}(fieldId,blockId)}},dispatch)})((BlockHeader_temp=BlockHeader_class2=function(_React$Component){function BlockHeader(){var _getPrototypeOf2,_this,self,call;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,BlockHeader);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return self=this,call=(_getPrototypeOf2=BlockHeader_getPrototypeOf(BlockHeader)).call.apply(_getPrototypeOf2,[this].concat(args)),_this=!call||"object"!==BlockHeader_typeof(call)&&"function"!=typeof call?BlockHeader_assertThisInitialized(self):call,BlockHeader_defineProperty(BlockHeader_assertThisInitialized(_this),"toggle",function(){var _this$props=_this.props,toggleBlock=_this$props.toggleBlock,closed=_this$props.closed;toggleBlock(),_this.triggerCustomEvent("toggle",{closed:!closed})}),_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&BlockHeader_setPrototypeOf(subClass,superClass)}(BlockHeader,react_default.a.Component),Constructor=BlockHeader,(protoProps=[{key:"triggerCustomEvent",value:function(name){var data=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;Object(utils.u)(react_dom_default.a.findDOMNode(this),name,data)}},{key:"render",value:function(){var _this$props2=this.props,blockDefinition=_this$props2.blockDefinition,fieldId=_this$props2.fieldId,blockId=_this$props2.blockId,dragHandleProps=_this$props2.dragHandleProps,collapsibleBlock=_this$props2.collapsibleBlock,sortableBlock=_this$props2.sortableBlock,canDuplicate=_this$props2.canDuplicate,standalone=_this$props2.standalone,dragHandleRef=_this$props2.dragHandleRef;return react_default.a.createElement("div",_extends({ref:dragHandleRef,onClick:this.toggle},dragHandleProps,{className:classnames_default()("c-sf-block__header",collapsibleBlock&&"c-sf-block__header--collapsible",sortableBlock&&"c-sf-block__header--sortable")}),react_default.a.createElement("span",{className:"c-sf-block__header__icon",dangerouslySetInnerHTML:{__html:blockDefinition.icon}}),react_default.a.createElement("h3",{className:"c-sf-block__header__title"},this.title||""),react_default.a.createElement(src_BlockActions,{fieldId:fieldId,blockId:blockId,sortableBlock:sortableBlock,canDuplicate:canDuplicate,standalone:standalone,dragHandleRef:dragHandleRef}))}},{key:"title",get:function(){var _this$props3=this.props,title=_this$props3.title,blockDefinition=_this$props3.blockDefinition,value=_this$props3.value;if(null!=title)return title;if(void 0!==blockDefinition.titleTemplate){var hasVariables=!1,isEmpty=!0,renderedTitle=blockDefinition.titleTemplate.replace(/\${([^}]+)}/g,function(match,varName){if(Object(utils.q)(blockDefinition)){var childValue=value[varName];return Object(utils.o)(childValue)?childValue="":""!==childValue&&(isEmpty=!1),hasVariables=!0,childValue||""}return varName===blockDefinition.key&&value||""});if(!hasVariables||!isEmpty)return renderedTitle}return null}}])&&BlockHeader_defineProperties(Constructor.prototype,protoProps),staticProps&&BlockHeader_defineProperties(Constructor,staticProps),BlockHeader;var Constructor,protoProps,staticProps}(),BlockHeader_defineProperty(BlockHeader_class2,"defaultProps",{collapsibleBlock:!0,sortableBlock:!0,canDuplicate:!0,standalone:!1}),BlockHeader_class=BlockHeader_temp))||BlockHeader_class,src_BlockHeader=BlockHeader_BlockHeader;function Block_typeof(obj){return(Block_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function Block_extends(){return(Block_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i])Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target}).apply(this,arguments)}function Block_defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function Block_getPrototypeOf(o){return(Block_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function Block_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function Block_setPrototypeOf(o,p){return(Block_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function Block_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}BlockHeader_BlockHeader.__docgenInfo={description:"",methods:[{name:"title",docblock:null,modifiers:["get"],params:[],returns:null},{name:"triggerCustomEvent",docblock:null,modifiers:[],params:[{name:"name",type:null},{name:"data",type:null}],returns:null},{name:"toggle",docblock:null,modifiers:[],params:[],returns:null}],displayName:"BlockHeader",props:{collapsibleBlock:{defaultValue:{value:"true",computed:!1},type:{name:"bool"},required:!1,description:""},sortableBlock:{defaultValue:{value:"true",computed:!1},type:{name:"bool"},required:!1,description:""},canDuplicate:{defaultValue:{value:"true",computed:!1},type:{name:"bool"},required:!1,description:""},standalone:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},fieldId:{type:{name:"string"},required:!0,description:""},blockId:{type:{name:"string"},required:!0,description:""},dragHandleRef:{type:{name:"custom",raw:"refType"},required:!1,description:""},dragHandleProps:{type:{name:"object"},required:!1,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/BlockHeader.js"]={name:"BlockHeader",docgenInfo:BlockHeader_BlockHeader.__docgenInfo,path:"src/BlockHeader.js"});var BlocksContainer_class,Block_Block=Object(lib.connect)(function(state,props){var fieldId=props.fieldId,id=props.id,blocks=state[fieldId].blocks,block=blocks[id],siblings=Object(utils.l)(state,fieldId,id),blockDefinition=Object(utils.i)(state,fieldId,id),hasDescendantError=Object(utils.f)(state,fieldId,id,!0).some(function(descendantBlockId){return blocks[descendantBlockId].hasError});return{blockDefinition:blockDefinition,parentId:block.parent,hasError:hasDescendantError,closed:block.closed,hidden:block.hidden,shouldUpdate:block.shouldUpdate,index:siblings.indexOf(id)}},function(dispatch,props){var fieldId=props.fieldId,id=props.id;return Object(redux.bindActionCreators)({blockUpdated:function(){return function(fieldId,blockId){return{type:"BLOCK_UPDATED",fieldId:fieldId,blockId:blockId}}(fieldId,id)},showBlock:function(){return function(fieldId,blockId){return function(dispatch){return new Promise(function(resolve){setTimeout(resolve,.001)}).then(function(){dispatch({type:"SHOW_BLOCK",fieldId:fieldId,blockId:blockId})})}}(fieldId,id)},deleteBlock:function(){return function(fieldId,blockId){return{type:"DELETE_BLOCK",fieldId:fieldId,blockId:blockId}}(fieldId,id)}},dispatch)})((Block_temp=Block_class2=function(_React$Component){function Block(props){var _this,self,call;return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Block),self=this,call=Block_getPrototypeOf(Block).call(this,props),_this=!call||"object"!==Block_typeof(call)&&"function"!=typeof call?Block_assertThisInitialized(self):call,Block_defineProperty(Block_assertThisInitialized(_this),"onDraggableContainerAnimationEnd",function(){_this.props.hidden&&(_this.triggerCustomEvent("delete"),_this.props.deleteBlock())}),_this.dragHandleRef=react_default.a.createRef(),_this.contentRef=react_default.a.createRef(),_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&Block_setPrototypeOf(subClass,superClass)}(Block,react_default.a.Component),Constructor=Block,(protoProps=[{key:"shouldComponentUpdate",value:function(nextProps){return nextProps.shouldUpdate}},{key:"componentDidUpdate",value:function(prevProps){prevProps.shouldUpdate||this.props.blockUpdated()}},{key:"triggerCustomEvent",value:function(name){var data=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;Object(utils.u)(react_dom_default.a.findDOMNode(this),name,data)}},{key:"componentDidMount",value:function(){this.props.hidden&&this.props.showBlock()}},{key:"wrapSortable",value:function(blockContent){var _this2=this,_this$props=this.props,fieldId=_this$props.fieldId,id=_this$props.id,parentId=_this$props.parentId,index=_this$props.index,hasError=_this$props.hasError,collapsible=_this$props.collapsible,sortable=_this$props.sortable,canAdd=_this$props.canAdd,standalone=_this$props.standalone,blockClassName="c-sf-block ".concat(hasError?"c-sf-block--error":""),addButton=react_default.a.createElement(src_AddButton,{fieldId:fieldId,parentId:parentId,blockId:id,visible:canAdd});return sortable?react_default.a.createElement(react_beautiful_dnd_cjs.Draggable,{draggableId:id,index:index,type:"".concat(fieldId,"-").concat(parentId)},function(provided){return react_default.a.createElement("div",Block_extends({className:"c-sf-container__block-container",ref:provided.innerRef},provided.draggableProps),react_default.a.createElement("div",{className:blockClassName},react_default.a.createElement(src_BlockHeader,{fieldId:fieldId,blockId:id,collapsibleBlock:collapsible,sortableBlock:sortable,canDuplicate:canAdd,standalone:standalone,dragHandleRef:_this2.dragHandleRef,dragHandleProps:provided.dragHandleProps}),blockContent),addButton)}):react_default.a.createElement("div",{className:"c-sf-container__block-container"},react_default.a.createElement("div",{className:blockClassName},react_default.a.createElement(src_BlockHeader,{fieldId:fieldId,blockId:id,collapsibleBlock:collapsible,sortableBlock:sortable,canDuplicate:canAdd,standalone:standalone,dragHandleRef:this.dragHandleRef}),blockContent),standalone?null:addButton)}},{key:"render",value:function(){var _this$props2=this.props,fieldId=_this$props2.fieldId,id=_this$props2.id,standalone=_this$props2.standalone,collapsible=_this$props2.collapsible,blockContent=react_default.a.createElement(src_BlockContent,{ref:this.contentRef,fieldId:fieldId,blockId:id,collapsible:collapsible});return standalone&&!collapsible?react_default.a.createElement("div",{className:"c-sf-container__block-container"},react_default.a.createElement("div",{className:"c-sf-block"},blockContent)):react_default.a.createElement(AnimateHeight_default.a,{height:this.draggableHeight,onAnimationEnd:this.onDraggableContainerAnimationEnd},this.wrapSortable(blockContent))}},{key:"draggableHeight",get:function(){return this.props.hidden?0:"auto"}}])&&Block_defineProperties(Constructor.prototype,protoProps),staticProps&&Block_defineProperties(Constructor,staticProps),Block;var Constructor,protoProps,staticProps}(),Block_defineProperty(Block_class2,"defaultProps",{standalone:!1,collapsible:!0,sortable:!0,canAdd:!0}),Block_class=Block_temp))||Block_class,src_Block=Block_Block;function BlocksContainer_typeof(obj){return(BlocksContainer_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function BlocksContainer_defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function BlocksContainer_possibleConstructorReturn(self,call){return!call||"object"!==BlocksContainer_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function BlocksContainer_getPrototypeOf(o){return(BlocksContainer_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function BlocksContainer_setPrototypeOf(o,p){return(BlocksContainer_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}Block_Block.__docgenInfo={description:"",methods:[{name:"triggerCustomEvent",docblock:null,modifiers:[],params:[{name:"name",type:null},{name:"data",type:null}],returns:null},{name:"onDraggableContainerAnimationEnd",docblock:null,modifiers:[],params:[],returns:null},{name:"draggableHeight",docblock:null,modifiers:["get"],params:[],returns:null},{name:"wrapSortable",docblock:null,modifiers:[],params:[{name:"blockContent",type:null}],returns:null}],displayName:"Block",props:{standalone:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},collapsible:{defaultValue:{value:"true",computed:!1},type:{name:"bool"},required:!1,description:""},sortable:{defaultValue:{value:"true",computed:!1},type:{name:"bool"},required:!1,description:""},canAdd:{defaultValue:{value:"true",computed:!1},type:{name:"bool"},required:!1,description:""},fieldId:{type:{name:"string"},required:!0,description:""},id:{type:{name:"string"},required:!0,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Block.js"]={name:"Block",docgenInfo:Block_Block.__docgenInfo,path:"src/Block.js"});var StreamField_class,StreamField_class2,StreamField_temp,BlocksContainer_BlocksContainer=Object(lib.connect)(function(state,props){var minNum,maxNum,fieldId=props.fieldId,id=props.id,fieldData=state[fieldId],blocksIds=null===id?fieldData.rootBlocks:fieldData.blocks[id].value;if(null===id)minNum=fieldData.minNum,maxNum=fieldData.maxNum;else{var blockDefinition=Object(utils.i)(state,fieldId,id);minNum=blockDefinition.minNum,maxNum=blockDefinition.maxNum}return Object(utils.o)(minNum)&&(minNum=0),Object(utils.o)(maxNum)&&(maxNum=1/0),{minNum:minNum,maxNum:maxNum,gutteredAdd:fieldData.gutteredAdd,blocksIds:blocksIds}})(BlocksContainer_class=function(_React$Component){function BlocksContainer(){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,BlocksContainer),BlocksContainer_possibleConstructorReturn(this,BlocksContainer_getPrototypeOf(BlocksContainer).apply(this,arguments))}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&BlocksContainer_setPrototypeOf(subClass,superClass)}(BlocksContainer,react_default.a.Component),Constructor=BlocksContainer,(protoProps=[{key:"renderBlock",value:function(blockId){var canAdd=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];return react_default.a.createElement(src_Block,{key:blockId,fieldId:this.props.fieldId,id:blockId,canAdd:canAdd})}},{key:"render",value:function(){var _this=this,_this$props=this.props,fieldId=_this$props.fieldId,id=_this$props.id,blocksIds=_this$props.blocksIds,maxNum=_this$props.maxNum,gutteredAdd=_this$props.gutteredAdd,droppableId="".concat(fieldId,"-").concat(id),canAdd=blocksIds.length<maxNum;return react_default.a.createElement(react_beautiful_dnd_cjs.Droppable,{droppableId:droppableId,type:droppableId},function(provided,snapshot){return react_default.a.createElement("div",{ref:provided.innerRef,className:classnames_default()("c-sf-container",snapshot.isDraggingOver&&"c-sf-container--dragging",gutteredAdd&&"c-sf-container--add-in-gutter")},react_default.a.createElement(src_AddButton,{fieldId:fieldId,parentId:id,open:0===blocksIds.length,visible:canAdd}),blocksIds.map(function(blockId){return _this.renderBlock(blockId,canAdd)}),provided.placeholder)})}}])&&BlocksContainer_defineProperties(Constructor.prototype,protoProps),staticProps&&BlocksContainer_defineProperties(Constructor,staticProps),BlocksContainer;var Constructor,protoProps,staticProps}())||BlocksContainer_class,src_BlocksContainer=BlocksContainer_BlocksContainer;function StreamField_typeof(obj){return(StreamField_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null==arguments[i]?{}:arguments[i],ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))),ownKeys.forEach(function(key){StreamField_defineProperty(target,key,source[key])})}return target}function StreamField_defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function StreamField_getPrototypeOf(o){return(StreamField_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function StreamField_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function StreamField_setPrototypeOf(o,p){return(StreamField_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function StreamField_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function lazyFunction(f){return function(){return f().apply(this,arguments)}}BlocksContainer_BlocksContainer.__docgenInfo={description:"",methods:[{name:"renderBlock",docblock:null,modifiers:[],params:[{name:"blockId",type:null},{name:"canAdd",type:null}],returns:null}],displayName:"BlocksContainer",props:{fieldId:{type:{name:"string"},required:!0,description:""},id:{type:{name:"string"},required:!1,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/BlocksContainer.js"]={name:"BlocksContainer",docgenInfo:BlocksContainer_BlocksContainer.__docgenInfo,path:"src/BlocksContainer.js"});var BlockDefinitionType=prop_types_default.a.shape({key:prop_types_default.a.string.isRequired,label:prop_types_default.a.string,required:prop_types_default.a.bool,default:prop_types_default.a.any,icon:prop_types_default.a.string,group:prop_types_default.a.string,className:prop_types_default.a.string,minNum:prop_types_default.a.number,maxNum:prop_types_default.a.number,closed:prop_types_default.a.bool,titleTemplate:prop_types_default.a.string,html:prop_types_default.a.string,isStruct:prop_types_default.a.bool,isStatic:prop_types_default.a.bool,dangerouslyRunInnerScripts:prop_types_default.a.bool,children:prop_types_default.a.arrayOf(lazyFunction(function(){return BlockDefinitionType}))}),BlockValueType=prop_types_default.a.shape({type:prop_types_default.a.string.isRequired,html:prop_types_default.a.string,hasError:prop_types_default.a.bool,value:prop_types_default.a.oneOfType([prop_types_default.a.arrayOf(lazyFunction(function(){return BlockValueType})),prop_types_default.a.string,prop_types_default.a.number,prop_types_default.a.bool])}),StreamFieldDefaultProps={required:!1,minNum:0,maxNum:1/0,icons:{add:'<i aria-hidden="true">+</i>',moveUp:'<i class="fas fa-chevron-up" aria-hidden="true" />',moveDown:'<i class="fas fa-chevron-down" aria-hidden="true" />',duplicate:'<i class="fas fa-clone" aria-hidden="true" />',delete:'<i class="fas fa-trash" aria-hidden="true" />',grip:'<i class="fas fa-grip-vertical fa-fw" aria-hidden="true" />'},labels:{add:"Add block",moveUp:"Move up",moveDown:"Move down",duplicate:"Duplicate",delete:"Delete"}},StreamField_StreamField=Object(lib.connect)(function(state,props){var id=props.id;return{generatedValue:void 0===state[id]?"":Object(conversions.a)(state,id)}},function(dispatch,props){var id=props.id;return Object(redux.bindActionCreators)({initializeStreamField:function(data){return function(id,data){return{type:"INITIALIZE_STREAM_FIELD",id:id,data:data}}(id,data)},moveBlock:function(blockId,newIndex){return function(fieldId,blockId,newIndex){return{type:"MOVE_BLOCK",fieldId:fieldId,blockId:blockId,newIndex:newIndex}}(id,blockId,newIndex)}},dispatch)})((StreamField_temp=StreamField_class2=function(_React$Component){function StreamField(){var _getPrototypeOf2,_this,self,call;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,StreamField);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return self=this,call=(_getPrototypeOf2=StreamField_getPrototypeOf(StreamField)).call.apply(_getPrototypeOf2,[this].concat(args)),_this=!call||"object"!==StreamField_typeof(call)&&"function"!=typeof call?StreamField_assertThisInitialized(self):call,StreamField_defineProperty(StreamField_assertThisInitialized(_this),"onDragEnd",function(result){var draggableId=result.draggableId,source=result.source,destination=result.destination;destination&&"CANCEL"!==result.reason&&destination.droppableId===source.droppableId&&destination.index!==source.index&&_this.props.moveBlock(draggableId,destination.index)}),_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&StreamField_setPrototypeOf(subClass,superClass)}(StreamField,react_default.a.Component),Constructor=StreamField,(protoProps=[{key:"componentWillMount",value:function(){var input=document.querySelector('[name="'.concat(this.props.id,'"]'));null!==input&&input.parentNode.removeChild(input)}},{key:"componentDidMount",value:function(){var _this$props=this.props,initializeStreamField=_this$props.initializeStreamField,required=_this$props.required,minNum=_this$props.minNum,maxNum=_this$props.maxNum,gutteredAdd=_this$props.gutteredAdd,blockDefinitions=_this$props.blockDefinitions,value=_this$props.value,defaultProps=StreamFieldDefaultProps;initializeStreamField({required:required,minNum:minNum,maxNum:maxNum,icons:_objectSpread({},defaultProps.icons,this.props.icons),labels:_objectSpread({},defaultProps.labels,this.props.labels),gutteredAdd:gutteredAdd,blockDefinitions:blockDefinitions,value:value})}},{key:"render",value:function(){var _this$props2=this.props,id=_this$props2.id,generatedValue=_this$props2.generatedValue;return react_default.a.createElement(react_beautiful_dnd_cjs.DragDropContext,{onDragEnd:this.onDragEnd},generatedValue?react_default.a.createElement(src_BlocksContainer,{fieldId:id,id:null}):null,react_default.a.createElement("input",{type:"hidden",name:id,value:JSON.stringify(generatedValue)}))}}])&&StreamField_defineProperties(Constructor.prototype,protoProps),staticProps&&StreamField_defineProperties(Constructor,staticProps),StreamField;var Constructor,protoProps,staticProps}(),StreamField_defineProperty(StreamField_class2,"defaultProps",StreamFieldDefaultProps),StreamField_class=StreamField_temp))||StreamField_class;__webpack_exports__.a=StreamField_StreamField;StreamField_StreamField.__docgenInfo={description:"",methods:[{name:"onDragEnd",docblock:null,modifiers:[],params:[{name:"result",type:null}],returns:null}],displayName:"StreamField",props:{required:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},minNum:{defaultValue:{value:"0",computed:!1},type:{name:"number"},required:!1,description:""},maxNum:{defaultValue:{value:"Infinity",computed:!0},type:{name:"number"},required:!1,description:""},icons:{defaultValue:{value:'{\n  add: \'<i aria-hidden="true">+</i>\',\n  moveUp: \'<i class="fas fa-chevron-up" aria-hidden="true" />\',\n  moveDown: \'<i class="fas fa-chevron-down" aria-hidden="true" />\',\n  duplicate: \'<i class="fas fa-clone" aria-hidden="true" />\',\n  delete: \'<i class="fas fa-trash" aria-hidden="true" />\',\n  grip: \'<i class="fas fa-grip-vertical fa-fw" aria-hidden="true" />\',\n}',computed:!1},type:{name:"shape",value:{add:{name:"string",required:!1},moveUp:{name:"string",required:!1},moveDown:{name:"string",required:!1},duplicate:{name:"string",required:!1},delete:{name:"string",required:!1},grip:{name:"string",required:!1}}},required:!1,description:""},labels:{defaultValue:{value:"{\n  add: 'Add block',\n  moveUp: 'Move up',\n  moveDown: 'Move down',\n  duplicate: 'Duplicate',\n  delete: 'Delete',\n}",computed:!1},type:{name:"shape",value:{add:{name:"string",required:!1},moveUp:{name:"string",required:!1},moveDown:{name:"string",required:!1},duplicate:{name:"string",required:!1},delete:{name:"string",required:!1}}},required:!1,description:""},id:{type:{name:"string"},required:!0,description:""},gutteredAdd:{type:{name:"bool"},required:!1,description:""},blockDefinitions:{type:{name:"arrayOf",value:{name:"custom",raw:"BlockDefinitionType"}},required:!0,description:""},value:{type:{name:"arrayOf",value:{name:"custom",raw:"BlockValueType"}},required:!0,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/StreamField.js"]={name:"StreamField",docgenInfo:StreamField_StreamField.__docgenInfo,path:"src/StreamField.js"})},121:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return valueToState}),__webpack_require__.d(__webpack_exports__,"a",function(){return stateToValue});__webpack_require__(27),__webpack_require__(21),__webpack_require__(249),__webpack_require__(109),__webpack_require__(16),__webpack_require__(15),__webpack_require__(18);var _utils__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2);function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null==arguments[i]?{}:arguments[i],ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))),ownKeys.forEach(function(key){_defineProperty(target,key,source[key])})}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _slicedToArray(arr,i){return function(arr){if(Array.isArray(arr))return arr}(arr)||function(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var getNestedBlocksState=function(parentBlockId,blockDefinitions,blocks){var childrenBlocksIds=[],blocksState={},descendantsBlocksState={},_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=blocks[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var block=_step.value,blockId=void 0===block.id?Object(_utils__WEBPACK_IMPORTED_MODULE_7__.k)():block.id,blockDefinition=1===blockDefinitions.length?blockDefinitions[0]:Object(_utils__WEBPACK_IMPORTED_MODULE_7__.d)(blockDefinitions,block.type),blockIsField=Object(_utils__WEBPACK_IMPORTED_MODULE_7__.n)(blockDefinition),value=block.value;if(!blockIsField){if(Object(_utils__WEBPACK_IMPORTED_MODULE_7__.o)(value)&&(value=[]),Object(_utils__WEBPACK_IMPORTED_MODULE_7__.q)(blockDefinition)){var _iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _step2,_loop=function(){var childBlockDefinition=_step2.value,childBlockType=childBlockDefinition.key;if(void 0===value.find(function(childBlock){return childBlock.type===childBlockType})){var _getNewBlock2=_slicedToArray(Object(_utils__WEBPACK_IMPORTED_MODULE_7__.j)(blockId,childBlockDefinition),3),childBlockId=_getNewBlock2[0],_childBlock=_getNewBlock2[1],extraBlocks=_getNewBlock2[2];blocksState=_objectSpread({},blocksState,extraBlocks,_defineProperty({},childBlockId,_childBlock)),value.push(_objectSpread({id:childBlockId},_childBlock))}},_iterator2=blockDefinition.children[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0)_loop()}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{_iteratorNormalCompletion2||null==_iterator2.return||_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}}var _getNestedBlocksState2=_slicedToArray(getNestedBlocksState(blockId,blockDefinition.children,value),2);value=_getNestedBlocksState2[0],descendantsBlocksState=_getNestedBlocksState2[1],blocksState=_objectSpread({},blocksState,descendantsBlocksState)}childrenBlocksIds.push(blockId),blocksState[blockId]={parent:parentBlockId,type:blockDefinition.key,html:block.html,hasError:block.hasError,value:value,hidden:!1,closed:Object(_utils__WEBPACK_IMPORTED_MODULE_7__.m)(blockDefinition),shouldUpdate:!1,isField:blockIsField}}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return[childrenBlocksIds,blocksState]},valueToState=function(prevState,fieldId,value){for(var _getNestedBlocksState4=_slicedToArray(getNestedBlocksState(null,prevState[fieldId].blockDefinitions,value),2),rootBlocks=_getNestedBlocksState4[0],blocks=_getNestedBlocksState4[1],_arr2=Object.values(blocks),_i2=0;_i2<_arr2.length;_i2++)delete _arr2[_i2].isField;return _objectSpread({},prevState,_defineProperty({},fieldId,_objectSpread({},prevState[fieldId],{rootBlocks:rootBlocks,blocks:blocks})))},extractValue=function(state,fieldId,blockId){var block=state[fieldId].blocks[blockId],value=block.value,blockDefinition=Object(_utils__WEBPACK_IMPORTED_MODULE_7__.i)(state,fieldId,blockId);return Object(_utils__WEBPACK_IMPORTED_MODULE_7__.n)(blockDefinition)||(value=value.map(function(childBlockId){return extractValue(state,fieldId,childBlockId)})),{id:blockId,type:block.type,value:value}},stateToValue=function(state,fieldId){return state[fieldId].rootBlocks.map(function(blockId){return extractValue(state,fieldId,blockId)})}},2:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"o",function(){return isNA}),__webpack_require__.d(__webpack_exports__,"k",function(){return getNewId}),__webpack_require__.d(__webpack_exports__,"g",function(){return getFieldName}),__webpack_require__.d(__webpack_exports__,"n",function(){return isField}),__webpack_require__.d(__webpack_exports__,"q",function(){return isStruct}),__webpack_require__.d(__webpack_exports__,"p",function(){return isStatic}),__webpack_require__.d(__webpack_exports__,"m",function(){return isClosed}),__webpack_require__.d(__webpack_exports__,"s",function(){return shouldRunInnerScripts}),__webpack_require__.d(__webpack_exports__,"h",function(){return getLabel}),__webpack_require__.d(__webpack_exports__,"e",function(){return getChildrenIds}),__webpack_require__.d(__webpack_exports__,"l",function(){return getSiblingsIds}),__webpack_require__.d(__webpack_exports__,"f",function(){return getDescendantsIds}),__webpack_require__.d(__webpack_exports__,"d",function(){return getBlockDefinition}),__webpack_require__.d(__webpack_exports__,"i",function(){return getNestedBlockDefinition}),__webpack_require__.d(__webpack_exports__,"t",function(){return structValueToObject}),__webpack_require__.d(__webpack_exports__,"j",function(){return getNewBlock}),__webpack_require__.d(__webpack_exports__,"c",function(){return deepCopy}),__webpack_require__.d(__webpack_exports__,"b",function(){return applyToBlocks}),__webpack_require__.d(__webpack_exports__,"a",function(){return applyToBlock}),__webpack_require__.d(__webpack_exports__,"v",function(){return triggerKeyboardEvent}),__webpack_require__.d(__webpack_exports__,"u",function(){return triggerCustomEvent}),__webpack_require__.d(__webpack_exports__,"r",function(){return replaceWithComponent});__webpack_require__(27),__webpack_require__(65),__webpack_require__(78),__webpack_require__(79),__webpack_require__(240),__webpack_require__(150),__webpack_require__(21),__webpack_require__(163),__webpack_require__(109),__webpack_require__(16),__webpack_require__(15),__webpack_require__(18),__webpack_require__(110);var react__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_13__),uuid__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(269),uuid__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(uuid__WEBPACK_IMPORTED_MODULE_14__);function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null==arguments[i]?{}:arguments[i],ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))),ownKeys.forEach(function(key){_defineProperty(target,key,source[key])})}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _slicedToArray(arr,i){return function(arr){if(Array.isArray(arr))return arr}(arr)||function(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function _toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var isNA=function(value){return null==value},getNewId=function(){return uuid__WEBPACK_IMPORTED_MODULE_14___default()()},getFieldName=function(blockId){return"field-".concat(blockId)},isField=function(blockDefinition){return void 0===blockDefinition.children||0===blockDefinition.children.length},isStruct=function(blockDefinition){return void 0!==blockDefinition.isStruct&&blockDefinition.isStruct},isStatic=function(blockDefinition){return void 0!==blockDefinition.isStatic&&blockDefinition.isStatic},isClosed=function(blockDefinition){return void 0===blockDefinition.closed||blockDefinition.closed},shouldRunInnerScripts=function(blockDefinition){return void 0!==blockDefinition.dangerouslyRunInnerScripts&&blockDefinition.dangerouslyRunInnerScripts},getLabel=function(blockDefinition){var key=blockDefinition.key,label=blockDefinition.label;return void 0===label&&(label=key.replace("_"," "),label="".concat(label[0].toUpperCase()).concat(label.substring(1))),label},getChildrenIds=function(state,fieldId,parentId){var fieldData=state[fieldId],blocks=fieldData.blocks;return null===parentId?fieldData.rootBlocks:blocks[parentId].value},getSiblingsIds=function(state,fieldId,blockId){var parentId=state[fieldId].blocks[blockId].parent;if(null!==parentId){var parentBlockDefinition=getNestedBlockDefinition(state,fieldId,parentId);if(isStruct(parentBlockDefinition))return[blockId]}return getChildrenIds(state,fieldId,parentId)},getDescendantsIds=function(state,fieldId,blockId){var descendants=[];!!(3<arguments.length&&void 0!==arguments[3])&&arguments[3]&&descendants.push(blockId);var blockDefinition=getNestedBlockDefinition(state,fieldId,blockId);if(isField(blockDefinition))return descendants;var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,childBlockId,_iterator=state[fieldId].blocks[blockId].value[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0)childBlockId=_step.value,descendants=[].concat(_toConsumableArray(descendants),_toConsumableArray(getDescendantsIds(state,fieldId,childBlockId,!0)))}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return descendants},getBlockDefinition=function(blockDefinitions,type){var blockDefinition=blockDefinitions.find(function(blockDefinition){return blockDefinition.key===type});if(void 0===blockDefinition)throw new TypeError("No block definition found for '".concat(type,"'"));return blockDefinition},getNestedBlockDefinition=function(state,fieldId,blockId){var blockDefinition,fieldData=state[fieldId],blockDefinitions=fieldData.blockDefinitions,blocks=fieldData.blocks,_iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _step2,_iterator2=function(state,fieldId,blockId){var includeSelf=!!(3<arguments.length&&void 0!==arguments[3])&&arguments[3],blocks=state[fieldId].blocks,ancestors=[];includeSelf&&ancestors.push(blockId);for(var block=blocks[blockId];null!==block.parent;)blockId=block.parent,ancestors.push(blockId),block=blocks[blockId];return ancestors.reverse()}(state,fieldId,blockId,!0)[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){var block=blocks[_step2.value];blockDefinitions=(blockDefinition=getBlockDefinition(blockDefinitions,block.type)).children}}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{_iteratorNormalCompletion2||null==_iterator2.return||_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}return blockDefinition},structValueToObject=function(state,fieldId,structValue){var blocks=state[fieldId].blocks,obj={},_iteratorNormalCompletion3=!0,_didIteratorError3=!1,_iteratorError3=void 0;try{for(var _step3,_iterator3=structValue[Symbol.iterator]();!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=!0){var childBlockId=_step3.value,childBlockDefinition=getNestedBlockDefinition(state,fieldId,childBlockId),value=void 0;if(isField(childBlockDefinition))value=blocks[childBlockId].value;else value=childBlockId;obj[childBlockDefinition.key]=value}}catch(err){_didIteratorError3=!0,_iteratorError3=err}finally{try{_iteratorNormalCompletion3||null==_iterator3.return||_iterator3.return()}finally{if(_didIteratorError3)throw _iteratorError3}}return obj},getNewBlock=function(parentId,blockDefinition){var childBlockId,childBlock,childExtraBlocks,value=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,extraBlocks={},blockId=getNewId();if(isNA(value)&&void 0!==blockDefinition.default&&(value=blockDefinition.default),isStruct(blockDefinition)){var newValue=[],_iteratorNormalCompletion4=!0,_didIteratorError4=!1,_iteratorError4=void 0;try{for(var _step4,_iterator4=blockDefinition.children[Symbol.iterator]();!(_iteratorNormalCompletion4=(_step4=_iterator4.next()).done);_iteratorNormalCompletion4=!0){var childBlockDefinition=_step4.value,childDefaultValue=null;if(!isNA(value)){var _iteratorNormalCompletion5=!0,_didIteratorError5=!1,_iteratorError5=void 0;try{for(var _step5,childDefault,_iterator5=value[Symbol.iterator]();!(_iteratorNormalCompletion5=(_step5=_iterator5.next()).done);_iteratorNormalCompletion5=!0)if((childDefault=_step5.value).type===childBlockDefinition.key){childDefaultValue=childDefault.value;break}}catch(err){_didIteratorError5=!0,_iteratorError5=err}finally{try{_iteratorNormalCompletion5||null==_iterator5.return||_iterator5.return()}finally{if(_didIteratorError5)throw _iteratorError5}}}var _getNewBlock2=_slicedToArray(getNewBlock(blockId,childBlockDefinition,childDefaultValue),3);childBlockId=_getNewBlock2[0],childBlock=_getNewBlock2[1],childExtraBlocks=_getNewBlock2[2],newValue.push(childBlockId),extraBlocks=_objectSpread({},extraBlocks,childExtraBlocks,_defineProperty({},childBlockId,childBlock))}}catch(err){_didIteratorError4=!0,_iteratorError4=err}finally{try{_iteratorNormalCompletion4||null==_iterator4.return||_iterator4.return()}finally{if(_didIteratorError4)throw _iteratorError4}}value=newValue}else if(!isField(blockDefinition)){var _newValue=[];if(!isNA(value)){var _iteratorNormalCompletion6=!0,_didIteratorError6=!1,_iteratorError6=void 0;try{for(var _step6,_iterator6=value[Symbol.iterator]();!(_iteratorNormalCompletion6=(_step6=_iterator6.next()).done);_iteratorNormalCompletion6=!0){var _childBlock=_step6.value,_childBlockDefinition=void 0,_iteratorNormalCompletion7=!0,_didIteratorError7=!1,_iteratorError7=void 0;try{for(var _step7,_iterator7=blockDefinition.children[Symbol.iterator]();!(_iteratorNormalCompletion7=(_step7=_iterator7.next()).done)&&(_childBlockDefinition=_step7.value).key!==_childBlock.type;_iteratorNormalCompletion7=!0);}catch(err){_didIteratorError7=!0,_iteratorError7=err}finally{try{_iteratorNormalCompletion7||null==_iterator7.return||_iterator7.return()}finally{if(_didIteratorError7)throw _iteratorError7}}var _getNewBlock4=_slicedToArray(getNewBlock(blockId,_childBlockDefinition,_childBlock.value),3);childBlockId=_getNewBlock4[0],_childBlock=_getNewBlock4[1],childExtraBlocks=_getNewBlock4[2],_newValue.push(childBlockId),extraBlocks=_objectSpread({},extraBlocks,childExtraBlocks,_defineProperty({},childBlockId,_childBlock))}}catch(err){_didIteratorError6=!0,_iteratorError6=err}finally{try{_iteratorNormalCompletion6||null==_iterator6.return||_iterator6.return()}finally{if(_didIteratorError6)throw _iteratorError6}}}value=_newValue}return[blockId,{parent:parentId,type:blockDefinition.key,value:value,hidden:!0,closed:!1,shouldUpdate:!1},extraBlocks]},deepCopy=function(data){var copy;if(data instanceof FileList)return data;if(data instanceof Array)return data.map(function(v){return deepCopy(v)});if(data instanceof Object){copy={};for(var _arr2=Object.entries(data),_i2=0;_i2<_arr2.length;_i2++){var _arr2$_i=_slicedToArray(_arr2[_i2],2),key=_arr2$_i[0],value=_arr2$_i[1];copy[key]=deepCopy(value)}return copy}return data},applyToBlocks=function(state,fieldId,blocksIds,func){var fieldData=state[fieldId],blocks=fieldData.blocks,_iteratorNormalCompletion8=!0,_didIteratorError8=!1,_iteratorError8=void 0;try{for(var _step8,_iterator8=blocksIds[Symbol.iterator]();!(_iteratorNormalCompletion8=(_step8=_iterator8.next()).done);_iteratorNormalCompletion8=!0){var blockId=_step8.value,block=deepCopy(blocks[blockId]);blocks[blockId]=func(block)}}catch(err){_didIteratorError8=!0,_iteratorError8=err}finally{try{_iteratorNormalCompletion8||null==_iterator8.return||_iterator8.return()}finally{if(_didIteratorError8)throw _iteratorError8}}return _objectSpread({},state,_defineProperty({},fieldId,_objectSpread({},fieldData,{blocks:blocks})))},applyToBlock=function(state,fieldId,blockId,func){return applyToBlocks(state,fieldId,[blockId],func)},triggerKeyboardEvent=function(element,key){var event=new Event("keydown",{bubbles:!0,cancelable:!0});event.key=key,event.keyIdentifier=key,event.keyCode=key,event.which=key,element.dispatchEvent(event)},triggerCustomEvent=function(element,name){var data=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;null===data&&(data={});var event=new CustomEvent("streamfield:".concat(name),{detail:_objectSpread({target:element},data)});element.dispatchEvent(event),window.dispatchEvent(event)},replaceWithComponent=function(string,placeholder,component){var parts=string.split(new RegExp("(".concat(placeholder,")")));for(var i in parts){var part=parts[i];parts[i]=part===placeholder?react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_13___default.a.Fragment,{key:i},component):react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement("span",{key:i,dangerouslySetInnerHTML:{__html:part}})}return react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_13___default.a.Fragment,null,parts)};replaceWithComponent.__docgenInfo={description:"",methods:[],displayName:"replaceWithComponent"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/processing/utils.js"]={name:"replaceWithComponent",docgenInfo:replaceWithComponent.__docgenInfo,path:"src/processing/utils.js"})},270:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return complexNestedStreamField});var complexNestedStreamField={required:!0,blockDefinitions:[{key:"title",icon:"<i class='fas fa-heading fa-fw'></i>",className:"full title",html:"<input type='text' name='field-__ID__' />"},{key:"text",icon:"<i class='fas fa-align-justify fa-fw'></i>",className:"full",html:"<textarea name='field-__ID__'></textarea>"},{key:"block-type",label:"Block type",icon:"<i class='fas fa-heart fa-fw'></i>",titleTemplate:"${start_date} — ${end_date}",isStruct:!0,children:[{key:"start_date",html:"<input type='date' name='field-__ID__' />",required:!0},{key:"end_date",html:"<input type='date' name='field-__ID__' />",required:!0},{key:"image",html:"<input type='file' accept='image/*' name='field-__ID__' />"},{key:"public",html:"<input type='checkbox' name='field-__ID__' />"},{key:"tags"},{key:"size",html:"<input type='number' name='field-__ID__' />"},{key:"color",html:"<input type='color' name='field-__ID__' />"},{key:"sub-blocks",children:[{key:"sub-block-type",label:"Sub-block type",icon:"<i class='fas fa-heartbeat fa-fw'></i>",isStruct:!0,children:[{key:"name"},{key:"password",html:"<input type='password' name='field-__ID__' />"},{key:"sub-sub-blocks",children:[{key:"sub-sub-block-type",name:"Sub-sub-block type",icon:"<i class='fas fa-smile fa-fw'></i>"}]}]}]}],default:[{type:"color",value:"#00FF00"},{type:"sub-blocks",value:[{type:"sub-block-type",value:[{type:"name",value:"lorem"},{type:"password",value:"ipsum"},{type:"sub-sub-blocks",value:[{type:"sub-sub-block-type",value:"blablabla"}]}]}]}]}],value:[{type:"title",value:"Wagtail is awesome!"},{type:"text",value:"And it’s always getting better! 😃"},{type:"block-type",value:[{type:"start_date",value:"1768-03-04"},{type:"public",value:!0},{type:"size",value:3.14},{type:"color",value:"#F11C32"},{type:"sub-blocks",value:[{type:"sub-block-type",value:[{type:"name",value:"admin"},{type:"password",value:"admin"},{type:"sub-sub-blocks",value:[{type:"sub-sub-block-type",html:"<input type=\"text\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>",value:"hello"},{type:"sub-sub-block-type",value:"world"}]}]}]}]},{type:"block-type",value:[{type:"start_date",value:"1769-03-04"},{type:"public",value:!0},{type:"size",value:3.14},{type:"color",value:"#F11C32"},{type:"sub-blocks",value:[{type:"sub-block-type",value:[{type:"name",value:"admin"},{type:"password",value:"admin"},{type:"sub-sub-blocks",value:[{type:"sub-sub-block-type",html:"<input type=\"text\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>",value:"hello"},{type:"sub-sub-block-type",value:"world"}]}]}]}]},{type:"block-type",value:[{type:"start_date",value:"1770-03-04"},{type:"public",value:!0},{type:"size",value:3.14},{type:"color",value:"#F11C32"},{type:"sub-blocks",value:[{type:"sub-block-type",value:[{type:"name",value:"admin"},{type:"password",value:"admin"},{type:"sub-sub-blocks",value:[{type:"sub-sub-block-type",html:"<input type=\"text\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>",value:"hello"},{type:"sub-sub-block-type",value:"world"}]}]}]}]},{type:"block-type",value:[{type:"start_date",value:"1771-03-04"},{type:"public",value:!0},{type:"size",value:3.14},{type:"color",value:"#F11C32"},{type:"sub-blocks",value:[{type:"sub-block-type",value:[{type:"name",value:"admin"},{type:"password",value:"admin"},{type:"sub-sub-blocks",value:[{type:"sub-sub-block-type",html:"<input type=\"text\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>",value:"hello"},{type:"sub-sub-block-type",value:"world"}]}]}]}]},{type:"block-type",value:[{type:"start_date",value:"1772-03-04"},{type:"public",value:!0},{type:"size",value:3.14},{type:"color",value:"#F11C32"},{type:"sub-blocks",value:[{type:"sub-block-type",value:[{type:"name",value:"admin"},{type:"password",value:"admin"},{type:"sub-sub-blocks",value:[{type:"sub-sub-block-type",html:"<input type=\"text\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>",value:"hello"},{type:"sub-sub-block-type",value:"world"}]}]}]}]},{type:"block-type",value:[{type:"start_date",value:"1773-03-04"},{type:"public",value:!0},{type:"size",value:3.14},{type:"color",value:"#F11C32"},{type:"sub-blocks",value:[{type:"sub-block-type",value:[{type:"name",value:"admin"},{type:"password",value:"admin"},{type:"sub-sub-blocks",value:[{type:"sub-sub-block-type",html:"<input type=\"text\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>",value:"hello"},{type:"sub-sub-block-type",value:"world"}]}]}]}]},{type:"block-type",value:[{type:"start_date",value:"1774-03-04"},{type:"public",value:!0},{type:"size",value:3.14},{type:"color",value:"#F11C32"},{type:"sub-blocks",value:[{type:"sub-block-type",value:[{type:"name",value:"admin"},{type:"password",value:"admin"},{type:"sub-sub-blocks",value:[{type:"sub-sub-block-type",html:"<input type=\"text\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>",value:"hello"},{type:"sub-sub-block-type",value:"world"}]}]}]}]},{type:"block-type",value:[{type:"start_date",value:"1775-03-04"},{type:"public",value:!0},{type:"size",value:3.14},{type:"color",value:"#F11C32"},{type:"sub-blocks",value:[{type:"sub-block-type",value:[{type:"name",value:"admin"},{type:"password",value:"admin"},{type:"sub-sub-blocks",value:[{type:"sub-sub-block-type",html:"<input type=\"text\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>",value:"hello"},{type:"sub-sub-block-type",value:"world"}]}]}]}]},{type:"block-type",value:[{type:"start_date",value:"1776-03-04"},{type:"public",value:!0},{type:"size",value:3.14},{type:"color",value:"#F11C32"},{type:"sub-blocks",value:[{type:"sub-block-type",value:[{type:"name",value:"admin"},{type:"password",value:"admin"},{type:"sub-sub-blocks",value:[{type:"sub-sub-block-type",html:"<input type=\"text\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>",value:"hello"},{type:"sub-sub-block-type",value:"world"}]}]}]}]},{type:"block-type",value:[{type:"start_date",value:"1777-03-04"},{type:"public",value:!0},{type:"size",value:3.14},{type:"color",value:"#F11C32"},{type:"sub-blocks",value:[{type:"sub-block-type",value:[{type:"name",value:"admin"},{type:"password",value:"admin"},{type:"sub-sub-blocks",value:[{type:"sub-sub-block-type",html:"<input type=\"text\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>",value:"hello"},{type:"sub-sub-block-type",value:"world"}]}]}]}]},{type:"block-type",value:[{type:"start_date",value:"1778-03-04"},{type:"public",value:!0},{type:"size",value:3.14},{type:"color",value:"#F11C32"},{type:"sub-blocks",value:[{type:"sub-block-type",value:[{type:"name",value:"admin"},{type:"password",value:"admin"},{type:"sub-sub-blocks",value:[{type:"sub-sub-block-type",html:"<input type=\"text\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>",value:"hello"},{type:"sub-sub-block-type",value:"world"}]}]}]}]},{type:"block-type",value:[{type:"start_date",value:"1779-03-04"},{type:"public",value:!0},{type:"size",value:3.14},{type:"color",value:"#F11C32"},{type:"sub-blocks",value:[{type:"sub-block-type",value:[{type:"name",value:"admin"},{type:"password",value:"admin"},{type:"sub-sub-blocks",value:[{type:"sub-sub-block-type",html:"<input type=\"text\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>",value:"hello"},{type:"sub-sub-block-type",value:"world"}]}]}]}]},{type:"block-type",value:[{type:"start_date",value:"1780-03-04"},{type:"public",value:!0},{type:"size",value:3.14},{type:"color",value:"#F11C32"},{type:"sub-blocks",value:[{type:"sub-block-type",value:[{type:"name",value:"admin"},{type:"password",value:"admin"},{type:"sub-sub-blocks",value:[{type:"sub-sub-block-type",html:"<input type=\"text\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>",value:"hello"},{type:"sub-sub-block-type",value:"world"}]}]}]}]},{type:"block-type",value:[{type:"start_date",value:"1781-03-04"},{type:"public",value:!0},{type:"size",value:3.14},{type:"color",value:"#F11C32"},{type:"sub-blocks",value:[{type:"sub-block-type",value:[{type:"name",value:"admin"},{type:"password",value:"admin"},{type:"sub-sub-blocks",value:[{type:"sub-sub-block-type",html:"<input type=\"text\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>",value:"hello"},{type:"sub-sub-block-type",value:"world"}]}]}]}]},{type:"block-type",value:[{type:"start_date",value:"1782-03-04"},{type:"public",value:!0},{type:"size",value:3.14},{type:"color",value:"#F11C32"},{type:"sub-blocks",value:[{type:"sub-block-type",value:[{type:"name",value:"admin"},{type:"password",value:"admin"},{type:"sub-sub-blocks",value:[{type:"sub-sub-block-type",html:"<input type=\"text\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>",value:"hello"},{type:"sub-sub-block-type",value:"world"}]}]}]}]},{type:"block-type",value:[{type:"start_date",value:"1783-03-04"},{type:"public",value:!0},{type:"size",value:3.14},{type:"color",value:"#F11C32"},{type:"sub-blocks",value:[{type:"sub-block-type",value:[{type:"name",value:"admin"},{type:"password",value:"admin"},{type:"sub-sub-blocks",value:[{type:"sub-sub-block-type",html:"<input type=\"text\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>",value:"hello"},{type:"sub-sub-block-type",value:"world"}]}]}]}]},{type:"block-type",value:[{type:"start_date",value:"1784-03-04"},{type:"public",value:!0},{type:"size",value:3.14},{type:"color",value:"#F11C32"},{type:"sub-blocks",value:[{type:"sub-block-type",value:[{type:"name",value:"admin"},{type:"password",value:"admin"},{type:"sub-sub-blocks",value:[{type:"sub-sub-block-type",html:"<input type=\"text\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>",value:"hello"},{type:"sub-sub-block-type",value:"world"}]}]}]}]},{type:"block-type",value:[{type:"start_date",value:"1785-03-04"},{type:"public",value:!0},{type:"size",value:3.14},{type:"color",value:"#F11C32"},{type:"sub-blocks",value:[{type:"sub-block-type",value:[{type:"name",value:"admin"},{type:"password",value:"admin"},{type:"sub-sub-blocks",value:[{type:"sub-sub-block-type",html:"<input type=\"text\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>",value:"hello"},{type:"sub-sub-block-type",value:"world"}]}]}]}]},{type:"block-type",value:[{type:"start_date",value:"1786-03-04"},{type:"public",value:!0},{type:"size",value:3.14},{type:"color",value:"#F11C32"},{type:"sub-blocks",value:[{type:"sub-block-type",value:[{type:"name",value:"admin"},{type:"password",value:"admin"},{type:"sub-sub-blocks",value:[{type:"sub-sub-block-type",html:"<input type=\"text\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>",value:"hello"},{type:"sub-sub-block-type",value:"world"}]}]}]}]},{type:"block-type",value:[{type:"start_date",value:"1787-03-04"},{type:"public",value:!0},{type:"size",value:3.14},{type:"color",value:"#F11C32"},{type:"sub-blocks",value:[{type:"sub-block-type",value:[{type:"name",value:"admin"},{type:"password",value:"admin"},{type:"sub-sub-blocks",value:[{type:"sub-sub-block-type",html:"<input type=\"text\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>",value:"hello"},{type:"sub-sub-block-type",value:"world"}]}]}]}]},{type:"block-type",value:[{type:"start_date",value:"1788-03-04"},{type:"public",value:!0},{type:"size",value:3.14},{type:"color",value:"#F11C32"},{type:"sub-blocks",value:[{type:"sub-block-type",value:[{type:"name",value:"admin"},{type:"password",value:"admin"},{type:"sub-sub-blocks",value:[{type:"sub-sub-block-type",html:"<input type=\"text\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>",value:"hello"},{type:"sub-sub-block-type",value:"world"}]}]}]}]},{type:"block-type",value:[{type:"start_date",value:"1789-03-04"},{type:"public",value:!0},{type:"size",value:3.14},{type:"color",value:"#F11C32"},{type:"sub-blocks",value:[{type:"sub-block-type",value:[{type:"name",value:"admin"},{type:"password",value:"admin"},{type:"sub-sub-blocks",value:[{type:"sub-sub-block-type",html:"<input type=\"text\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>",value:"hello"},{type:"sub-sub-block-type",value:"world"}]}]}]}]},{type:"block-type",value:[{type:"start_date",value:"1790-03-04"},{type:"public",value:!0},{type:"size",value:3.14},{type:"color",value:"#F11C32"},{type:"sub-blocks",value:[{type:"sub-block-type",value:[{type:"name",value:"admin"},{type:"password",value:"admin"},{type:"sub-sub-blocks",value:[{type:"sub-sub-block-type",html:"<input type=\"text\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>",value:"hello"},{type:"sub-sub-block-type",value:"world"}]}]}]}]},{type:"block-type",value:[{type:"start_date",value:"1791-03-04"},{type:"public",value:!0},{type:"size",value:3.14},{type:"color",value:"#F11C32"},{type:"sub-blocks",value:[{type:"sub-block-type",value:[{type:"name",value:"admin"},{type:"password",value:"admin"},{type:"sub-sub-blocks",value:[{type:"sub-sub-block-type",html:"<input type=\"text\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>",value:"hello"},{type:"sub-sub-block-type",value:"world"}]}]}]}]},{type:"block-type",value:[{type:"start_date",value:"1792-03-04"},{type:"public",value:!0},{type:"size",value:3.14},{type:"color",value:"#F11C32"},{type:"sub-blocks",value:[{type:"sub-block-type",value:[{type:"name",value:"admin"},{type:"password",value:"admin"},{type:"sub-sub-blocks",value:[{type:"sub-sub-block-type",html:"<input type=\"text\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>",value:"hello"},{type:"sub-sub-block-type",value:"world"}]}]}]}]},{type:"block-type",value:[{type:"start_date",value:"1793-03-04"},{type:"public",value:!0},{type:"size",value:3.14},{type:"color",value:"#F11C32"},{type:"sub-blocks",value:[{type:"sub-block-type",value:[{type:"name",value:"admin"},{type:"password",value:"admin"},{type:"sub-sub-blocks",value:[{type:"sub-sub-block-type",html:"<input type=\"text\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>",value:"hello"},{type:"sub-sub-block-type",value:"world"}]}]}]}]},{type:"block-type",value:[{type:"start_date",value:"1794-03-04"},{type:"public",value:!0},{type:"size",value:3.14},{type:"color",value:"#F11C32"},{type:"sub-blocks",value:[{type:"sub-block-type",value:[{type:"name",value:"admin"},{type:"password",value:"admin"},{type:"sub-sub-blocks",value:[{type:"sub-sub-block-type",html:"<input type=\"text\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>",value:"hello"},{type:"sub-sub-block-type",value:"world"}]}]}]}]},{type:"block-type",value:[{type:"start_date",value:"1795-03-04"},{type:"public",value:!0},{type:"size",value:3.14},{type:"color",value:"#F11C32"},{type:"sub-blocks",value:[{type:"sub-block-type",value:[{type:"name",value:"admin"},{type:"password",value:"admin"},{type:"sub-sub-blocks",value:[{type:"sub-sub-block-type",html:"<input type=\"text\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>",value:"hello"},{type:"sub-sub-block-type",value:"world"}]}]}]}]},{type:"block-type",value:[{type:"start_date",value:"1796-03-04"},{type:"public",value:!0},{type:"size",value:3.14},{type:"color",value:"#F11C32"},{type:"sub-blocks",value:[{type:"sub-block-type",value:[{type:"name",value:"admin"},{type:"password",value:"admin"},{type:"sub-sub-blocks",value:[{type:"sub-sub-block-type",html:"<input type=\"text\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>",value:"hello"},{type:"sub-sub-block-type",value:"world"}]}]}]}]},{type:"block-type",value:[{type:"start_date",value:"1797-03-04"},{type:"public",value:!0},{type:"size",value:3.14},{type:"color",value:"#F11C32"},{type:"sub-blocks",value:[{type:"sub-block-type",value:[{type:"name",value:"admin"},{type:"password",value:"admin"},{type:"sub-sub-blocks",value:[{type:"sub-sub-block-type",html:"<input type=\"text\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>",value:"hello"},{type:"sub-sub-block-type",value:"world"}]}]}]}]},{type:"block-type",value:[{type:"start_date",value:"1798-03-04"},{type:"public",value:!0},{type:"size",value:3.14},{type:"color",value:"#F11C32"},{type:"sub-blocks",value:[{type:"sub-block-type",value:[{type:"name",value:"admin"},{type:"password",value:"admin"},{type:"sub-sub-blocks",value:[{type:"sub-sub-block-type",html:"<input type=\"text\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>",value:"hello"},{type:"sub-sub-block-type",value:"world"}]}]}]}]},{type:"block-type",value:[{type:"start_date",value:"1799-03-04"},{type:"public",value:!0},{type:"size",value:3.14},{type:"color",value:"#F11C32"},{type:"sub-blocks",value:[{type:"sub-block-type",value:[{type:"name",value:"admin"},{type:"password",value:"admin"},{type:"sub-sub-blocks",value:[{type:"sub-sub-block-type",html:"<input type=\"text\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>",value:"hello"},{type:"sub-sub-block-type",value:"world"}]}]}]}]},{type:"block-type",value:[{type:"start_date",value:"1800-03-04"},{type:"public",value:!0},{type:"size",value:3.14},{type:"color",value:"#F11C32"},{type:"sub-blocks",value:[{type:"sub-block-type",value:[{type:"name",value:"admin"},{type:"password",value:"admin"},{type:"sub-sub-blocks",value:[{type:"sub-sub-block-type",html:"<input type=\"text\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>",value:"hello"},{type:"sub-sub-block-type",value:"world"}]}]}]}]},{type:"block-type",value:[{type:"start_date",value:"1801-03-04"},{type:"public",value:!0},{type:"size",value:3.14},{type:"color",value:"#F11C32"},{type:"sub-blocks",value:[{type:"sub-block-type",value:[{type:"name",value:"admin"},{type:"password",value:"admin"},{type:"sub-sub-blocks",value:[{type:"sub-sub-block-type",html:"<input type=\"text\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>",value:"hello"},{type:"sub-sub-block-type",value:"world"}]}]}]}]},{type:"block-type",value:[{type:"start_date",value:"1802-03-04"},{type:"public",value:!0},{type:"size",value:3.14},{type:"color",value:"#F11C32"},{type:"sub-blocks",value:[{type:"sub-block-type",value:[{type:"name",value:"admin"},{type:"password",value:"admin"},{type:"sub-sub-blocks",value:[{type:"sub-sub-block-type",html:"<input type=\"text\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>",value:"hello"},{type:"sub-sub-block-type",value:"world"}]}]}]}]},{type:"block-type",value:[{type:"start_date",value:"1803-03-04"},{type:"public",value:!0},{type:"size",value:3.14},{type:"color",value:"#F11C32"},{type:"sub-blocks",value:[{type:"sub-block-type",value:[{type:"name",value:"admin"},{type:"password",value:"admin"},{type:"sub-sub-blocks",value:[{type:"sub-sub-block-type",html:"<input type=\"text\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>",value:"hello"},{type:"sub-sub-block-type",value:"world"}]}]}]}]},{type:"block-type",value:[{type:"start_date",value:"1804-03-04"},{type:"public",value:!0},{type:"size",value:3.14},{type:"color",value:"#F11C32"},{type:"sub-blocks",value:[{type:"sub-block-type",value:[{type:"name",value:"admin"},{type:"password",value:"admin"},{type:"sub-sub-blocks",value:[{type:"sub-sub-block-type",html:"<input type=\"text\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>",value:"hello"},{type:"sub-sub-block-type",value:"world"}]}]}]}]},{type:"block-type",value:[{type:"start_date",value:"1805-03-04"},{type:"public",value:!0},{type:"size",value:3.14},{type:"color",value:"#F11C32"},{type:"sub-blocks",value:[{type:"sub-block-type",value:[{type:"name",value:"admin"},{type:"password",value:"admin"},{type:"sub-sub-blocks",value:[{type:"sub-sub-block-type",html:"<input type=\"text\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>",value:"hello"},{type:"sub-sub-block-type",value:"world"}]}]}]}]},{type:"block-type",value:[{type:"start_date",value:"1806-03-04"},{type:"public",value:!0},{type:"size",value:3.14},{type:"color",value:"#F11C32"},{type:"sub-blocks",value:[{type:"sub-block-type",value:[{type:"name",value:"admin"},{type:"password",value:"admin"},{type:"sub-sub-blocks",value:[{type:"sub-sub-block-type",html:"<input type=\"text\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>",value:"hello"},{type:"sub-sub-block-type",value:"world"}]}]}]}]},{type:"block-type",value:[{type:"start_date",value:"1807-03-04"},{type:"public",value:!0},{type:"size",value:3.14},{type:"color",value:"#F11C32"},{type:"sub-blocks",value:[{type:"sub-block-type",value:[{type:"name",value:"admin"},{type:"password",value:"admin"},{type:"sub-sub-blocks",value:[{type:"sub-sub-block-type",html:"<input type=\"text\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>",value:"hello"},{type:"sub-sub-block-type",value:"world"}]}]}]}]},{type:"block-type",value:[{type:"start_date",value:"1808-03-04"},{type:"public",value:!0},{type:"size",value:3.14},{type:"color",value:"#F11C32"},{type:"sub-blocks",value:[{type:"sub-block-type",value:[{type:"name",value:"admin"},{type:"password",value:"admin"},{type:"sub-sub-blocks",value:[{type:"sub-sub-block-type",html:"<input type=\"text\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>",value:"hello"},{type:"sub-sub-block-type",value:"world"}]}]}]}]},{type:"block-type",value:[{type:"start_date",value:"1809-03-04"},{type:"public",value:!0},{type:"size",value:3.14},{type:"color",value:"#F11C32"},{type:"sub-blocks",value:[{type:"sub-block-type",value:[{type:"name",value:"admin"},{type:"password",value:"admin"},{type:"sub-sub-blocks",value:[{type:"sub-sub-block-type",html:"<input type=\"text\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>",value:"hello"},{type:"sub-sub-block-type",value:"world"}]}]}]}]},{type:"block-type",value:[{type:"start_date",value:"1810-03-04"},{type:"public",value:!0},{type:"size",value:3.14},{type:"color",value:"#F11C32"},{type:"sub-blocks",value:[{type:"sub-block-type",value:[{type:"name",value:"admin"},{type:"password",value:"admin"},{type:"sub-sub-blocks",value:[{type:"sub-sub-block-type",html:"<input type=\"text\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>",value:"hello"},{type:"sub-sub-block-type",value:"world"}]}]}]}]},{type:"block-type",value:[{type:"start_date",value:"1811-03-04"},{type:"public",value:!0},{type:"size",value:3.14},{type:"color",value:"#F11C32"},{type:"sub-blocks",value:[{type:"sub-block-type",value:[{type:"name",value:"admin"},{type:"password",value:"admin"},{type:"sub-sub-blocks",value:[{type:"sub-sub-block-type",html:"<input type=\"text\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>",value:"hello"},{type:"sub-sub-block-type",value:"world"}]}]}]}]},{type:"block-type",value:[{type:"start_date",value:"1812-03-04"},{type:"public",value:!0},{type:"size",value:3.14},{type:"color",value:"#F11C32"},{type:"sub-blocks",value:[{type:"sub-block-type",value:[{type:"name",value:"admin"},{type:"password",value:"admin"},{type:"sub-sub-blocks",value:[{type:"sub-sub-block-type",html:"<input type=\"text\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>",value:"hello"},{type:"sub-sub-block-type",value:"world"}]}]}]}]},{type:"block-type",value:[{type:"start_date",value:"1813-03-04"},{type:"public",value:!0},{type:"size",value:3.14},{type:"color",value:"#F11C32"},{type:"sub-blocks",value:[{type:"sub-block-type",value:[{type:"name",value:"admin"},{type:"password",value:"admin"},{type:"sub-sub-blocks",value:[{type:"sub-sub-block-type",html:"<input type=\"text\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>",value:"hello"},{type:"sub-sub-block-type",value:"world"}]}]}]}]},{type:"block-type",value:[{type:"start_date",value:"1814-03-04"},{type:"public",value:!0},{type:"size",value:3.14},{type:"color",value:"#F11C32"},{type:"sub-blocks",value:[{type:"sub-block-type",value:[{type:"name",value:"admin"},{type:"password",value:"admin"},{type:"sub-sub-blocks",value:[{type:"sub-sub-block-type",html:"<input type=\"text\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>",value:"hello"},{type:"sub-sub-block-type",value:"world"}]}]}]}]},{type:"block-type",value:[{type:"start_date",value:"1815-03-04"},{type:"public",value:!0},{type:"size",value:3.14},{type:"color",value:"#F11C32"},{type:"sub-blocks",value:[{type:"sub-block-type",value:[{type:"name",value:"admin"},{type:"password",value:"admin"},{type:"sub-sub-blocks",value:[{type:"sub-sub-block-type",html:"<input type=\"text\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>",value:"hello"},{type:"sub-sub-block-type",value:"world"}]}]}]}]},{type:"block-type",value:[{type:"start_date",value:"1816-03-04"},{type:"public",value:!0},{type:"size",value:3.14},{type:"color",value:"#F11C32"},{type:"sub-blocks",value:[{type:"sub-block-type",value:[{type:"name",value:"admin"},{type:"password",value:"admin"},{type:"sub-sub-blocks",value:[{type:"sub-sub-block-type",html:"<input type=\"text\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>",value:"hello"},{type:"sub-sub-block-type",value:"world"}]}]}]}]},{type:"block-type",value:[{type:"start_date",value:"1817-03-04"},{type:"public",value:!0},{type:"size",value:3.14},{type:"color",value:"#F11C32"},{type:"sub-blocks",value:[{type:"sub-block-type",value:[{type:"name",value:"admin"},{type:"password",value:"admin"},{type:"sub-sub-blocks",value:[{type:"sub-sub-block-type",html:"<input type=\"text\" name='field-__ID__' /><div><small>Or hi, if you prefer.</small></div>",value:"hello"},{type:"sub-sub-block-type",value:"world"}]}]}]}]}]}},272:function(module,exports,__webpack_require__){__webpack_require__(273),__webpack_require__(349),module.exports=__webpack_require__(350)},350:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _storybook_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(120);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.configure)(function(){__webpack_require__(433),__webpack_require__(436),__webpack_require__(438)},module)}.call(this,__webpack_require__(188)(module))},433:function(module,exports,__webpack_require__){var content=__webpack_require__(434);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(225)(content,options);content.locals&&(module.exports=content.locals)},434:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(224)(!0)).push([module.i,"body {\n  background: #F6F6F6;\n  padding: 15px;\n}\n\n.c-sf-block .c-sf-block__content-inner.full {\n  padding: 0;\n}\n.c-sf-block .c-sf-block__content-inner.full input, .c-sf-block .c-sf-block__content-inner.full textarea {\n  display: block;\n  min-width: 100%;\n  max-width: 100%;\n  height: 100%;\n  padding: 16px 24px;\n  border: none;\n  outline: none;\n}\n.c-sf-block .c-sf-block__content-inner.full input {\n  font-size: 30px;\n}\n\ninput[type=text], input[type=password], input[type=email],\ninput[type=date], input[type=time], input[type=number], select {\n  padding: 5px 8px;\n  border: 1px solid lightGrey;\n  border-radius: 3px;\n}\n\ninput[type=color] {\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n  border: none;\n  background: none;\n}\n\ninput, textarea {\n  max-width: 100%;\n}","",{version:3,sources:["/home/bertrand/PycharmProjects/react-streamfield/example/example.scss"],names:[],mappings:"AAAA;EACI,oBAAA;EACA,cAAA;CACJ;;AAGI;EACI,WAAA;CAAR;AACQ;EACI,eAAA;EACA,gBAAA;EACA,gBAAA;EACA,aAAA;EACA,mBAAA;EACA,aAAA;EACA,cAAA;CACZ;AACQ;EACI,gBAAA;CACZ;;AAIA;;EAEI,iBAAA;EACA,4BAAA;EACA,mBAAA;CADJ;;AAIA;EACI,yBAAA;EACA,sBAAA;EACA,iBAAA;EACA,aAAA;EACA,iBAAA;CADJ;;AAIA;EACI,gBAAA;CADJ",file:"example.scss",sourcesContent:['body {\n    background: #F6F6F6;\n    padding: 15px;\n}\n\n.c-sf-block .c-sf-block__content-inner {\n    &.full {\n        padding: 0;\n        input, textarea {\n            display: block;\n            min-width: 100%;\n            max-width: 100%;\n            height: 100%;\n            padding: 16px 24px;\n            border: none;\n            outline: none;\n        }\n        input {\n            font-size: 30px;\n        }\n    }\n}\n\ninput[type="text"], input[type="password"], input[type="email"],\ninput[type="date"], input[type="time"], input[type="number"], select {\n    padding: 5px 8px;\n    border: 1px solid lightGrey;\n    border-radius: 3px;\n}\n\ninput[type="color"] {\n    -webkit-appearance: none;\n    -moz-appearance: none;\n    appearance: none;\n    border: none;\n    background: none;\n}\n\ninput, textarea {\n    max-width: 100%;\n}\n'],sourceRoot:""}])},436:function(module,exports,__webpack_require__){var content=__webpack_require__(437);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(225)(content,options);content.locals&&(module.exports=content.locals)},437:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(224)(!0)).push([module.i,'.c-sf-add-button {\n  width: 100%;\n  height: 34px;\n  -webkit-appearance: none;\n     -moz-appearance: none;\n          appearance: none;\n  border: 0 none;\n  color: #007d7e;\n  font-weight: bold;\n  background: none;\n  padding: 0;\n  cursor: pointer;\n  outline: none;\n  -webkit-backface-visibility: hidden;\n          backface-visibility: hidden;\n  overflow: hidden;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  opacity: 0;\n  pointer-events: none;\n  transition: opacity 100ms ease-in-out;\n}\n.c-sf-add-button:hover {\n  opacity: 1;\n}\n.c-sf-add-button i {\n  display: block;\n  transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);\n  font-style: normal;\n  font-size: 24px;\n  line-height: 34px;\n}\n.c-sf-add-button--visible {\n  opacity: 0.8;\n  pointer-events: unset;\n}\n.c-sf-add-button--close i {\n  transform: rotate(45deg);\n}\n\n.c-sf-add-panel {\n  position: relative;\n  padding: 7.5px 0 30px;\n  border-radius: 3px;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n}\n@media (min-width: 1075px) {\n  .c-sf-add-panel {\n    padding: 7.5px 60px 19px;\n  }\n}\n.c-sf-add-panel__group-title {\n  margin: 5px 0;\n  font-weight: 600;\n}\n.c-sf-add-panel__grid {\n  display: flex;\n  flex-flow: row wrap;\n  margin-left: -8px;\n  margin-right: -8px;\n  margin-bottom: 15px;\n}\n.c-sf-add-panel__grid:last-child {\n  margin-bottom: 0;\n}\n\n.c-sf-button {\n  display: flex;\n  flex: 1 1 200px;\n  margin: 8px;\n  -webkit-appearance: none;\n     -moz-appearance: none;\n          appearance: none;\n  background: #eee;\n  padding: 10px 10px;\n  border: 0 none;\n  border-radius: 3px;\n  outline: none;\n  cursor: pointer;\n  overflow: hidden;\n  transition: background-color 0.3s ease-in-out;\n}\n.c-sf-button:hover, .c-sf-button:focus {\n  background-color: #007d7e;\n}\n.c-sf-button:hover .c-sf-button__icon,\n.c-sf-button:hover .c-sf-button__label, .c-sf-button:focus .c-sf-button__icon,\n.c-sf-button:focus .c-sf-button__label {\n  color: white;\n}\n@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {\n  .c-sf-button {\n    display: inline-block;\n    margin: 0 10px 10px 0;\n  }\n}\n.c-sf-button__icon, .c-sf-button__label {\n  display: inline-block;\n  color: #333;\n  font-weight: 600;\n  font-size: 12px;\n  font-family: "Open Sans", sans-serif;\n  transition: color 0.3s ease-in-out;\n}\n.c-sf-button__icon {\n  font-size: 16px;\n  padding-right: 10px;\n}\n.c-sf-button__icon .icon::before {\n  vertical-align: initial;\n}\n.c-sf-button__label {\n  padding-top: 2px;\n}\n\n.c-sf-block {\n  flex: 1 1 auto;\n  margin: 4px 0;\n  border: 1px solid #e6e6e6;\n  border-radius: 3px;\n  background: white;\n  transition: border-color 0.3s ease-in-out;\n  transition-property: border-color, box-shadow;\n}\n.c-sf-block__header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 4px 4px;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  transition: background-color 0.3s ease-in-out;\n  cursor: default;\n  border-top-left-radius: 3px;\n  border-top-right-radius: 3px;\n  min-height: 30px;\n}\n@media (min-width: 800px) {\n  .c-sf-block__header {\n    padding-left: 16px;\n  }\n}\n.c-sf-block__header--collapsible {\n  cursor: pointer;\n}\n.c-sf-block__header--sortable {\n  cursor: grab;\n}\n.c-sf-block__header__title, .c-sf-block__header__icon {\n  color: #585858;\n}\n.c-sf-block__header__title {\n  display: inline-block;\n  flex: 1 10 auto;\n  margin: 0;\n  font-size: 12px;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n.c-sf-block__header__icon {\n  margin: 0 8px;\n  font-size: 20px;\n  transition: color 0.3s ease-in-out;\n}\n.c-sf-block__content-inner {\n  padding: 16px 24px;\n}\n.c-sf-block__actions {\n  flex: 0 1 auto;\n  display: flex;\n  align-items: center;\n  white-space: nowrap;\n  overflow-x: hidden;\n}\n.c-sf-block__actions__single {\n  -webkit-appearance: none;\n     -moz-appearance: none;\n          appearance: none;\n  border: 0 none;\n  background: none;\n  cursor: pointer;\n  color: #585858;\n  opacity: 1;\n  transition: opacity 0.3s ease-in-out, background-color 0.3s ease-in-out;\n  transition-property: opacity, color, background-color;\n  font-size: 15px;\n  border-radius: 50%;\n  width: 30px;\n  height: 30px;\n  text-align: center;\n  padding: 0 8px;\n}\n.c-sf-block__actions__single:not(:last-of-type) {\n  margin-right: 3px;\n}\n.c-sf-block__actions__single:focus, .c-sf-block__actions__single:hover {\n  background-color: rgba(0, 0, 0, 0.05);\n}\n.c-sf-block__actions__single:focus i, .c-sf-block__actions__single:hover i {\n  color: #333;\n}\n.c-sf-block__actions__single i {\n  font-style: normal;\n  transition: color 0.3s ease-in-out;\n}\n.c-sf-block__actions__single i:before {\n  vertical-align: top;\n  margin: 0 0 0 -2px;\n}\n.c-sf-block__actions__single[disabled] {\n  opacity: 0.2;\n  pointer-events: none;\n}\n.c-sf-block__type {\n  margin: 0 8px;\n  text-align: right;\n  font-size: 12px;\n  color: #585858;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  vertical-align: 2px;\n  overflow-x: hidden;\n  text-overflow: ellipsis;\n}\n.c-sf-block.c-sf-block--error {\n  border-color: #dbc7c8;\n}\n.c-sf-block.c-sf-block--error > .c-sf-block__header {\n  background: #fbefef;\n}\n.c-sf-block.c-sf-block--error:hover, .c-sf-block.c-sf-block--error:focus {\n  border-color: #cdb2b3;\n}\n.c-sf-block.c-sf-block--error:hover > .c-sf-block__header, .c-sf-block.c-sf-block--error:focus > .c-sf-block__header {\n  background: #fbefef;\n}\n.c-sf-block.c-sf-block--error:focus-within {\n  border-color: #cdb2b3;\n}\n.c-sf-block.c-sf-block--error:focus-within > .c-sf-block__header {\n  background: #fbefef;\n}\n.c-sf-block:hover, .c-sf-block:focus {\n  border-color: #bbbbbb;\n  box-shadow: 3px 2px 3px -1px rgba(0, 0, 0, 0.1);\n}\n.c-sf-block:hover > .c-sf-block__header, .c-sf-block:focus > .c-sf-block__header {\n  background: #f5f5f5;\n}\n.c-sf-block:hover > .c-sf-block__header .c-sf-block__header__title,\n.c-sf-block:hover > .c-sf-block__header .c-sf-block__actions__single, .c-sf-block:focus > .c-sf-block__header .c-sf-block__header__title,\n.c-sf-block:focus > .c-sf-block__header .c-sf-block__actions__single {\n  color: #4d4d4d;\n}\n.c-sf-block:focus-within {\n  border-color: #bbbbbb;\n  box-shadow: 3px 2px 3px -1px rgba(0, 0, 0, 0.1);\n}\n.c-sf-block:focus-within > .c-sf-block__header {\n  background: #f5f5f5;\n}\n.c-sf-block:focus-within > .c-sf-block__header .c-sf-block__header__title,\n.c-sf-block:focus-within > .c-sf-block__header .c-sf-block__actions__single {\n  color: #4d4d4d;\n}\n\n.c-sf-container {\n  position: relative;\n  display: flex;\n  flex-flow: column nowrap;\n  padding: 17px 0;\n  transition: padding 0.3s ease-in-out;\n}\n.c-sf-container__block-container {\n  position: relative;\n  display: flex;\n  flex-flow: column nowrap;\n}\n@media (min-width: 800px) {\n  .c-sf-container--add-in-gutter {\n    padding-left: 34px;\n  }\n  .c-sf-container--add-in-gutter .c-sf-add-button {\n    width: 34px;\n    height: 0;\n    transform: translate(-100%, -17px);\n    overflow: visible;\n  }\n}\n.c-sf-container .field + .field {\n  padding-top: 15px;\n}\n.c-sf-container .field__label {\n  display: block;\n  font-weight: bold;\n  margin-bottom: 7.5px;\n}\n.c-sf-container .field.required > label::after {\n  content: "*";\n  color: #cd3238;\n  font-weight: 700;\n  display: inline-block;\n  margin-left: 0.5em;\n  line-height: 1em;\n  font-size: 13px;\n}',"",{version:3,sources:["/home/bertrand/PycharmProjects/react-streamfield/src/scss/index.scss","/home/bertrand/PycharmProjects/react-streamfield/src/scss/_variables.scss","/home/bertrand/PycharmProjects/react-streamfield/src/scss/components/c-sf-add-panel.scss","/home/bertrand/PycharmProjects/react-streamfield/src/scss/components/c-sf-button.scss","/home/bertrand/PycharmProjects/react-streamfield/src/scss/components/c-sf-block.scss","/home/bertrand/PycharmProjects/react-streamfield/src/scss/components/c-sf-container.scss"],names:[],mappings:"AAAA;EACI,YAAA;EACA,aCIc;EDHd,yBAAA;KAAA,sBAAA;UAAA,iBAAA;EACA,eAAA;EACA,eCaG;EDZH,kBAAA;EACA,iBAAA;EACA,WAAA;EACA,gBAAA;EACA,cAAA;EACA,oCAAA;UAAA,4BAAA;EACA,iBAAA;EACA,0BAAA;KAAA,uBAAA;MAAA,sBAAA;UAAA,kBAAA;EACA,WAAA;EACA,qBAAA;EACA,sCAAA;CACJ;AACI;EACI,WAAA;CACR;AAEI;EACI,eAAA;EACA,mEAAA;EACA,mBAAA;EACA,gBCnBe;EDoBf,kBCrBU;CDqBlB;AAGI;EACI,aAAA;EACA,sBAAA;CADR;AAII;EACI,yBAAA;CAFR;;AElCA;EACI,mBAAA;EACA,sBAAA;EAGA,mBDYY;ECXZ,0BAAA;KAAA,uBAAA;MAAA,sBAAA;UAAA,kBAAA;CFmCJ;AEjCI;EARJ;IASQ,yBAAA;GFoCN;CACF;AEhCI;EACI,cAAA;EACA,iBAAA;CFkCR;AE/BI;EACI,cAAA;EACA,oBAAA;EACA,kBAAA;EACA,mBAAA;EACA,oBAAA;CFiCR;AEhCQ;EACI,iBAAA;CFkCZ;;AG5DA;EAEI,cAAA;EACA,gBAAA;EACA,YF2Be;EE1Bf,yBAAA;KAAA,sBAAA;UAAA,iBAAA;EACA,iBAAA;EACA,mBAAA;EACA,eAAA;EACA,mBFQY;EEPZ,cAAA;EACA,gBAAA;EACA,iBAAA;EACA,8CAAA;CH8DJ;AG5DI;EAEI,0BFCD;CD4DP;AG3DQ;;;EAEI,aAAA;CH8DZ;AGzDI;EA1BJ;IA2BQ,sBAAA;IACA,sBAAA;GH4DN;CACF;AG1DI;EAEI,sBAAA;EAGA,YAAA;EACA,iBAAA;EACA,gBAAA;EACA,qCAAA;EACA,mCAAA;CHyDR;AGtDI;EACI,gBAAA;EACA,oBFpCyB;CD4FjC;AGrDY;EACI,wBAAA;CHuDhB;AGlDI;EACI,iBAAA;CHoDR;;AIhGA;EACI,eAAA;EACA,cAAA;EACA,0BAAA;EACA,mBHEY;EGDZ,kBAAA;EACA,0CAAA;EACA,8CAAA;CJmGJ;AIjGI;EACI,cAAA;EACA,+BAAA;EACA,oBAAA;EACA,iBAAA;EACA,0BAAA;KAAA,uBAAA;MAAA,sBAAA;UAAA,kBAAA;EACA,8CAAA;EACA,gBAAA;EACA,4BHXQ;EGYR,6BHZQ;EGaR,iBAAA;CJmGR;AIjGQ;EAZJ;IAaQ,mBAAA;GJoGV;CACF;AIlGQ;EACI,gBAAA;CJoGZ;AIjGQ;EACI,aAAA;CJmGZ;AIhGQ;EACI,eHzBQ;CD2HpB;AI/FQ;EACI,sBAAA;EACA,gBAAA;EACA,UAAA;EACA,gBAAA;EACA,oBAAA;EACA,wBAAA;EACA,iBAAA;CJiGZ;AI9FQ;EACI,cAAA;EACA,gBAAA;EACA,mCAAA;CJgGZ;AI3FQ;EACI,mBAAA;CJ6FZ;AIzFI;EACI,eAAA;EACA,cAAA;EACA,oBAAA;EACA,oBAAA;EACA,mBAAA;CJ2FR;AIzFQ;EACI,yBAAA;KAAA,sBAAA;UAAA,iBAAA;EACA,eAAA;EACA,iBAAA;EACA,gBAAA;EACA,eH/DQ;EGgER,WAAA;EACA,wEAAA;EACA,sDAAA;EACA,gBH1EO;EG2EP,mBAAA;EACA,YAAA;EACA,aAAA;EACA,mBAAA;EACA,eAAA;CJ2FZ;AIzFY;EACI,kBAAA;CJ2FhB;AIxFY;EAEI,sCAAA;CJyFhB;AIvFgB;EACI,YAAA;CJyFpB;AIrFY;EACI,mBAAA;EACA,mCAAA;CJuFhB;AIrFgB;EACI,oBAAA;EACA,mBAAA;CJuFpB;AInFY;EACI,aAAA;EACA,qBAAA;CJqFhB;AIhFI;EACI,cAAA;EACA,kBAAA;EACA,gBAAA;EACA,eH5GY;EG6GZ,0BAAA;KAAA,uBAAA;MAAA,sBAAA;UAAA,kBAAA;EACA,oBAAA;EACA,mBAAA;EACA,wBAAA;CJkFR;AI/EI;EACI,sBH/Ga;CDgMrB;AI/EQ;EACI,oBHhHa;CDiMzB;AI9EQ;EAEI,sBHtHe;CDqM3B;AI7EY;EACI,oBHxHS;CDuMzB;AIzEQ;EACI,sBHhIe;CD2M3B;AIzEY;EACI,oBHlIS;CD6MzB;AItEI;EAEI,sBH9ImB;EG+InB,gDAAA;CJuER;AIrEQ;EACI,oBHjJa;CDwNzB;AIrEY;;;EAEI,eHzJU;CDiO1B;AIjEI;EACI,sBH9JmB;EG+JnB,gDAAA;CJmER;AIjEQ;EACI,oBHjKa;CDoOzB;AIjEY;;EAEI,eHzKU;CD4O1B;;AK/PA;EACI,mBAAA;EACA,cAAA;EACA,yBAAA;EACA,gBAAA;EACA,qCAAA;CLkQJ;AKhQI;EACI,mBAAA;EACA,cAAA;EACA,yBAAA;CLkQR;AK9PQ;EADJ;IAEQ,mBJTM;GD0QhB;EK/PU;IACI,YJZE;IIaF,UAAA;IACA,mCAAA;IACA,kBAAA;GLiQd;CACF;AK1PQ;EACI,kBAAA;CL4PZ;AKzPQ;EACI,eAAA;EACA,kBAAA;EACA,qBAAA;CL2PZ;AKxPQ;EACI,aAAA;EACA,eAAA;EACA,iBAAA;EACA,sBAAA;EACA,mBAAA;EACA,iBAAA;EACA,gBAAA;CL0PZ",file:"index.scss",sourcesContent:[".c-sf-add-button {\n    width: 100%;\n    height: $add-button-size;\n    appearance: none;\n    border: 0 none;\n    color: $teal;\n    font-weight: bold;\n    background: none;\n    padding: 0;\n    cursor: pointer;\n    outline: none;\n    backface-visibility: hidden;\n    overflow: hidden; // Makes the rotated i box not clickable.\n    user-select: none;\n    opacity: 0;\n    pointer-events: none;\n    transition: opacity 100ms ease-in-out;\n\n    &:hover {\n        opacity: 1;\n    }\n\n    i {\n        display: block;\n        transition: transform $add-transition-duration $bounce-transition-timing;\n        font-style: normal;\n        font-size: $add-button-font-size;\n        line-height: $add-button-size;\n    }\n\n    &--visible {\n        opacity: 0.8;\n        pointer-events: unset;\n    }\n\n    &--close i {\n        transform: rotate(45deg);\n    }\n}\n","$grid-gutter-width: 30px !default;\n$header-padding-horizontal: 4px !default;\n$header-padding-vertical: 4px !default;\n$header-gutter: 8px !default;\n$block-margin-vertical: 4px !default;\n$block-margin-horizontal: 0 !default;\n$add-button-size: 34px !default;\n$add-button-font-size: 24px !default;\n$type-button-padding-vertical: 10px !default;\n$type-button-padding-horizontal: 10px !default;\n$children-container-padding: $add-button-size / 2 !default;\n$content-padding-horizontal: 24px !default;\n$content-padding-vertical: 16px !default;\n$action-font-size: 15px !default;\n$add-transition-duration: 0.3s !default;\n$hover-transition-duration: 0.3s !default;\n$bounce-transition-timing: cubic-bezier(0.175, 0.885, 0.32, 1.275) !default;\n$border-radius: 3px !default;\n$teal: #007d7e !default;\n$header-text-color-focus: #4d4d4d !default;\n$header-text-color: #585858 !default;\n$block-border-color: #e6e6e6 !default;\n$block-border-color-focus: #bbbbbb !default;\n$block-hover-background: #f5f5f5 !default;\n$error-color: #cd3238 !default;\n$error-border-color: #dbc7c8 !default;\n$error-border-color-focus: #cdb2b3 !default;\n$error-background-color: #fbefef !default;\n$screen-xs-max: 799px !default;\n$screen-sm-min: 800px !default;\n$screen-l-min: 1075px !default;\n$add-panel-gutter: 8px !default;\n",".c-sf-add-panel {\n    position: relative;\n    padding: $grid-gutter-width / 4\n             0\n             $grid-gutter-width;\n    border-radius: $border-radius;\n    user-select: none;\n\n    @media (min-width: $screen-l-min) {\n        padding: $grid-gutter-width / 4\n                 $grid-gutter-width * 2\n                 $add-button-size - $grid-gutter-width / 2;\n    }\n\n    &__group-title {\n        margin: 5px 0;\n        font-weight: 600;\n    }\n\n    &__grid {\n        display: flex;\n        flex-flow: row wrap;\n        margin-left: -$add-panel-gutter;\n        margin-right: -$add-panel-gutter;\n        margin-bottom: $grid-gutter-width / 2;\n        &:last-child {\n            margin-bottom: 0;\n        }\n    }\n}\n",".c-sf-button {\n    $root: &;\n    display: flex;\n    flex: 1 1 200px;\n    margin: $add-panel-gutter;\n    appearance: none;\n    background: #eee;\n    padding: $type-button-padding-vertical $type-button-padding-horizontal;\n    border: 0 none;\n    border-radius: $border-radius;\n    outline: none;\n    cursor: pointer;\n    overflow: hidden;\n    transition: background-color $hover-transition-duration ease-in-out;\n\n    &:hover,\n    &:focus {\n        background-color: $teal;\n\n        #{$root}__icon,\n        #{$root}__label {\n            color: white;\n        }\n    }\n\n    // Fallback for no `grid` support in IE11\n    @media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {\n        display: inline-block;\n        margin: 0 10px 10px 0;\n    }\n\n    &__icon,\n    &__label {\n        display: inline-block;\n\n        // Fixes for label elements getting global `label` styles from Wagtail -@jonnyscholes\n        color: #333;\n        font-weight: 600;\n        font-size: 12px;\n        font-family: 'Open Sans', sans-serif;\n        transition: color $hover-transition-duration ease-in-out;\n    }\n\n    &__icon {\n        font-size: 16px;\n        padding-right: $type-button-padding-horizontal;\n\n        .icon {\n            &::before {\n                vertical-align: initial;\n            }\n        }\n    }\n\n    &__label {\n        padding-top: 2px;\n    }\n}\n","// TODO: Reduce nesting further by splitting out more components.\n//\n// There's quite a lot of nesting in here which makes parsing some segments difficult.\n// Some of this is to deal with the fact that .c-sf-block can contain many .c-sf-block's and so is\n// legitimate. A lot of these would ideally be their own components (eg the actions) however there\n// is a lot of interdependency of the elements which makes this hard\n// without fairly intensive rethinking of the HTML.\n//\n// However, the new classes adequately sanitise streamfield only CSS so am leaving this for\n// now to avoid blocking the release of the new Streamfield. -@jonnyscholes\n\n.c-sf-block {\n    flex: 1 1 auto;\n    margin: $block-margin-vertical $block-margin-horizontal;\n    border: 1px solid $block-border-color;\n    border-radius: $border-radius;\n    background: white;\n    transition: border-color $hover-transition-duration ease-in-out;\n    transition-property: border-color, box-shadow;\n\n    &__header {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        padding: $header-padding-vertical $header-padding-horizontal;\n        user-select: none;\n        transition: background-color $hover-transition-duration ease-in-out;\n        cursor: default;\n        border-top-left-radius: $border-radius;\n        border-top-right-radius: $border-radius;\n        min-height: 30px;\n\n        @media (min-width: $screen-sm-min) {\n            padding-left: $content-padding-horizontal - $header-gutter;\n        }\n\n        &--collapsible {\n            cursor: pointer;\n        }\n\n        &--sortable {\n            cursor: grab;\n        }\n\n        &__title, &__icon {\n            color: $header-text-color;\n        }\n\n        &__title {\n            display: inline-block;\n            flex: 1 10 auto;\n            margin: 0;\n            font-size: 12px;\n            white-space: nowrap;\n            text-overflow: ellipsis;\n            overflow: hidden;\n        }\n\n        &__icon {\n            margin: 0 $header-gutter;\n            font-size: 20px;\n            transition: color $hover-transition-duration ease-in-out;\n        }\n    }\n\n    &__content {\n        &-inner {\n            padding: $content-padding-vertical $content-padding-horizontal;\n        }\n    }\n\n    &__actions {\n        flex: 0 1 auto;\n        display: flex;\n        align-items: center;\n        white-space: nowrap;\n        overflow-x: hidden;\n\n        &__single {\n            appearance: none;\n            border: 0 none;\n            background: none;\n            cursor: pointer;\n            color: $header-text-color;\n            opacity: 1;\n            transition: opacity $hover-transition-duration ease-in-out, background-color $hover-transition-duration ease-in-out;\n            transition-property: opacity, color, background-color;\n            font-size: $action-font-size;\n            border-radius: 50%;\n            width: 30px;\n            height: 30px;\n            text-align: center;\n            padding: 0 8px;\n\n            &:not(:last-of-type) {\n                margin-right: 3px;\n            }\n\n            &:focus,\n            &:hover {\n                background-color: rgba(0, 0, 0, 0.05);\n\n                i {\n                    color: #333;\n                }\n            }\n\n            i {\n                font-style: normal;\n                transition: color $hover-transition-duration ease-in-out;\n\n                &:before {\n                    vertical-align: top;\n                    margin: 0 0 0 -2px;\n                }\n            }\n\n            &[disabled] {\n                opacity: 0.2;\n                pointer-events: none;\n            }\n        }\n    }\n\n    &__type {\n        margin: 0 $header-gutter;\n        text-align: right;\n        font-size: 12px;\n        color: $header-text-color;\n        user-select: none;\n        vertical-align: 2px;\n        overflow-x: hidden;\n        text-overflow: ellipsis;\n    }\n\n    &.c-sf-block--error {\n        border-color: $error-border-color;\n\n        > .c-sf-block__header {\n            background: $error-background-color;\n        }\n\n        &:hover,\n        &:focus {\n            border-color: $error-border-color-focus;\n\n            > .c-sf-block__header {\n                background: $error-background-color;\n            }\n        }\n\n        // Duplicated because of\n        // https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/16651302/\n        &:focus-within {\n            border-color: $error-border-color-focus;\n\n            > .c-sf-block__header {\n                background: $error-background-color;\n            }\n        }\n    }\n\n    &:hover,\n    &:focus {\n        border-color: $block-border-color-focus;\n        box-shadow: 3px 2px 3px -1px rgba(0, 0, 0, 0.1);\n\n        > .c-sf-block__header {\n            background: $block-hover-background;\n\n            .c-sf-block__header__title,\n            .c-sf-block__actions__single {\n                color: $header-text-color-focus;\n            }\n        }\n    }\n\n    // Duplicated because of\n    // https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/16651302/\n    &:focus-within {\n        border-color: $block-border-color-focus;\n        box-shadow: 3px 2px 3px -1px rgba(0, 0, 0, 0.1);\n\n        > .c-sf-block__header {\n            background: $block-hover-background;\n\n            .c-sf-block__header__title,\n            .c-sf-block__actions__single {\n                color: $header-text-color-focus;\n            }\n        }\n    }\n}\n",".c-sf-container {\n    position: relative;\n    display: flex;\n    flex-flow: column nowrap;\n    padding: $children-container-padding 0;\n    transition: padding $hover-transition-duration ease-in-out;\n\n    &__block-container {\n        position: relative;\n        display: flex;\n        flex-flow: column nowrap;\n    }\n\n    &--add-in-gutter {\n        @media (min-width: $screen-sm-min) {\n            padding-left: $add-button-size;\n\n            .c-sf-add-button {\n                width: $add-button-size;\n                height: 0;\n                transform: translate(-100%, -$add-button-size / 2);\n                overflow: visible;\n            }\n        }\n    }\n\n    // TODO: Remove these references to classes that are styled by core Wagtail CSS. The best\n    // opportunity for this is propably as part of Wagtails general CSS overhaul. -@jonnyscholes\n    .field {\n        + .field {\n            padding-top: $grid-gutter-width / 2;\n        }\n\n        &__label {\n            display: block;\n            font-weight: bold;\n            margin-bottom: $grid-gutter-width / 4;\n        }\n\n        &.required > label::after {\n            content: '*';\n            color: #cd3238;\n            font-weight: 700;\n            display: inline-block;\n            margin-left: 0.5em;\n            line-height: 1em;\n            font-size: 13px;\n        }\n    }\n}\n"],sourceRoot:""}])},438:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__(89);var _storybook_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(120),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__),redux__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(19),react_redux__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(14),redux_thunk__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(268),redux_thunk__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(redux_thunk__WEBPACK_IMPORTED_MODULE_5__),_src__WEBPACK_IMPORTED_MODULE_9__=(__webpack_require__(456),__webpack_require__(614),__webpack_require__(615),__webpack_require__(662)),_src__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(10),_samples__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(270);function _extends(){return(_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i])Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target}).apply(this,arguments)}var store=Object(redux__WEBPACK_IMPORTED_MODULE_3__.createStore)(_src__WEBPACK_IMPORTED_MODULE_9__.a,Object(redux__WEBPACK_IMPORTED_MODULE_3__.applyMiddleware)(redux_thunk__WEBPACK_IMPORTED_MODULE_5___default.a));Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("React StreamField demo",module).addDecorator(function(story){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react_redux__WEBPACK_IMPORTED_MODULE_4__.Provider,{store:store},story())}).add("1 block type",function(){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_10__.a,_extends({},{required:!0,blockDefinitions:[{key:"title",icon:'<i class="fas fa-heading fa-fw"></i>',className:"full title",titleTemplate:"${title}",html:'<input type="text" name="field-__ID__" />'}],value:[{type:"title",value:"Wagtail is awesome!"}]},{id:"stream"}))}).add("1 open block type",function(){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_10__.a,_extends({},{required:!0,blockDefinitions:[{key:"title",icon:'<i class="fas fa-heading fa-fw"></i>',className:"full title",titleTemplate:"${title}",closed:!1,html:'<input type="text" name="field-__ID__" />'}],value:[{type:"title",value:"Wagtail is awesome!"}]},{id:"stream"}))}).add("1 static block type",function(){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_10__.a,_extends({},{required:!0,blockDefinitions:[{key:"static",isStatic:!0,html:"Some static block"}],value:[{type:"static"}]},{id:"stream"}))}).add("1 block type, default value",function(){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_10__.a,_extends({},{required:!0,blockDefinitions:[{key:"title",default:"The default title",icon:'<i class="fas fa-heading fa-fw"></i>',className:"full title",titleTemplate:"${title}",html:'<input type="text" name="field-__ID__" />'}],value:[{type:"title",value:"Wagtail is awesome!"}]},{id:"stream"}))}).add("1 block type, custom per-value HTML",function(){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_10__.a,_extends({},{required:!0,blockDefinitions:[{key:"title",icon:'<i class="fas fa-heading fa-fw"></i>',className:"full title",titleTemplate:"${title}",html:'<input type="text" name="field-__ID__" />'}],value:[{type:"title",html:'<div style="padding: 6px 12px 0; color: grey;">Do you see it?</div> <input type="text" name="field-__ID__" />',value:"Custom HTML for this value!",titleTemplate:"${title}"},{type:"title",value:"This time, no custom HTML."}]},{id:"stream"}))}).add("2 block types",function(){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_10__.a,_extends({},{required:!0,blockDefinitions:[{key:"title",icon:'<i class="fas fa-heading fa-fw"></i>',className:"full title",titleTemplate:"${title}",html:'<input type="text" name="field-__ID__" />'},{key:"text",icon:'<i class="fas fa-align-justify fa-fw"></i>',className:"full",titleTemplate:"${text}",html:'<textarea name="field-__ID__"></textarea>'}],value:[{type:"title",value:"Wagtail is awesome!"},{type:"text",value:"And it’s always getting better 😃"}]},{id:"stream"}))}).add("List block, 1 child block type",function(){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_10__.a,_extends({},{required:!0,blockDefinitions:[{key:"list",children:[{key:"bool",html:'<input type="checkbox" name="field-__ID__" />'}]}],value:[{type:"list",value:[{type:"bool",value:!0},{type:"bool",value:!1}]}]},{id:"stream"}))}).add("List block, 1 child block type, default value",function(){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_10__.a,_extends({},{required:!0,blockDefinitions:[{key:"list",children:[{key:"bool",html:'<input type="checkbox" name="field-__ID__" />'}],default:[{type:"bool",value:!0}]}],value:[]},{id:"stream"}))}).add("List block, 1 child block type, custom HTML",function(){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_10__.a,_extends({},{required:!0,blockDefinitions:[{key:"list",children:[{key:"bool",html:'<input type="checkbox" name="field-__ID__" />'}],html:"As you can see by this text, it’s possible <strong>to insert some HTML</strong> before or after the contained blocks. <noscript data-blocks-container></noscript> You can even have multiple times the same blocks container. <noscript data-blocks-container></noscript> Can’t think of a case where that would be useful, but still, it’s possible if you really want it."}],value:[]},{id:"stream"}))}).add("List block, 2 children block types with groups",function(){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_10__.a,_extends({},{required:!0,blockDefinitions:[{key:"list",children:[{key:"title",icon:'<i class="fas fa-heading fa-fw"></i>',className:"full title",group:"Text",html:'<input type="text" name="field-__ID__" />'},{key:"bool",group:"Other",html:'<input type="checkbox" name="field-__ID__" />'},{key:"second_bool",group:"Other",html:'<input type="checkbox" name="field-__ID__" />'},{key:"third_bool",html:'<input type="checkbox" name="field-__ID__" />'}],default:[{type:"title",value:"Lorem ipsum"},{type:"bool",value:!0}]}],value:[{type:"list",value:[{type:"title",value:"NoriPyt rocks!"},{type:"bool",value:!1}]}]},{id:"stream"}))}).add("Gutter of add buttons",function(){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_10__.a,_extends({},{required:!0,gutteredAdd:!0,blockDefinitions:[{key:"text"}],value:[]},{id:"stream"}))}).add("Maximum number of blocks",function(){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_10__.a,_extends({},{required:!0,minNum:null,maxNum:2,blockDefinitions:[{key:"list",maxNum:5,children:[{key:"bool",html:'<input type="checkbox" name="field-__ID__" />'}]}],value:[{type:"list",value:[{type:"bool",value:!0},{type:"bool",value:!1}]}]},{id:"stream"}))}).add("Error in one of the nested blocks",function(){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_10__.a,_extends({},{required:!0,blockDefinitions:[{key:"list",children:[{key:"bool",html:'<input type="checkbox" name="field-__ID__" />'}]}],value:[{type:"list",value:[{type:"bool",value:!0},{type:"bool",value:!1,hasError:!0}]}]},{id:"stream"}))}).add("Struct block",function(){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_10__.a,_extends({},{blockDefinitions:[{key:"struct",isStruct:!0,children:[{key:"some_field"},{key:"another_field"}],label:"Struct"}],value:[]},{id:"stream"}))}).add("Struct block with default value",function(){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_10__.a,_extends({},{blockDefinitions:[{key:"struct",isStruct:!0,children:[{key:"some_field",default:"Lorem"},{key:"another_field",default:"Ipsum"}],label:"Struct"}],value:[]},{id:"stream"}))}).add("Struct block with custom HTML",function(){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_10__.a,_extends({},{blockDefinitions:[{key:"struct",isStruct:!0,children:[{key:"some_field"},{key:"another_field"}],label:"Struct",html:"Like for lists, we can add HTML before struct fields <noscript data-blocks-container></noscript> and after as well."}],value:[]},{id:"stream"}))}).add("Struct block as a struct block field",function(){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_10__.a,_extends({},{blockDefinitions:[{key:"struct",isStruct:!0,children:[{key:"some_field"},{key:"link",isStruct:!0,collapsible:!1,children:[{key:"url",label:"URL",default:"https://noripyt.com"},{key:"email",label:"E-mail"}]},{key:"another_field"}],label:"Struct"}],value:[]},{id:"stream"}))}).add("Struct block as a struct block field collapsible",function(){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_10__.a,_extends({},{blockDefinitions:[{key:"struct",isStruct:!0,children:[{key:"some_field"},{key:"link",isStruct:!0,collapsible:!0,closed:!0,titleTemplate:"${label}",children:[{key:"label",label:"Label",default:"label"},{key:"email",label:"E-mail"}]},{key:"another_field"}],label:"Struct"}],value:[{type:"struct",value:[{type:"some_field",value:""},{type:"link",value:[]},{type:"another_field",value:""}]}]},{id:"stream"}))}).add("StructBlock as a list block child",function(){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_10__.a,_extends({},{required:!0,blockDefinitions:[{key:"list",children:[{key:"link",isStruct:!0,children:[{key:"url",label:"URL"},{key:"email",label:"E-mail"}]}]}],value:[]},{id:"stream"}))}).add("Complex nested StreamField",function(){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_10__.a,_extends({},_samples__WEBPACK_IMPORTED_MODULE_11__.a,{id:"stream"}))}).add("Custom action icons",function(){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_10__.a,_extends({},{required:!0,icons:{add:'<i aria-hidden="true">⊕</i>',moveUp:'<i aria-hidden="true">⇑</i>',moveDown:'<i aria-hidden="true">⇓</i>',duplicate:'<i aria-hidden="true">⎘</i>',delete:'<i aria-hidden="true">×</i>',grip:'<i aria-hidden="true">↕</i>'},blockDefinitions:[{key:"title",className:"full title",html:'<input type="text" name="field-__ID__" />'}],value:[{type:"title",value:"Wagtail is awesome!"}]},{id:"stream"}))}).add("Radio buttons",function(){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_10__.a,_extends({},{required:!0,blockDefinitions:[{key:"date",dangerouslyRunInnerScripts:!0,html:'<label><input type="radio" name="field-__ID__" id="field-__ID__" value="1" />1</label><label><input type="radio" name="field-__ID__" id="field-__ID__" value="2" />2</label>'}],value:[]},{id:"stream"}))}).add("Checkboxes",function(){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_10__.a,_extends({},{required:!0,blockDefinitions:[{key:"date",dangerouslyRunInnerScripts:!0,html:'<label><input type="checkbox" name="field-__ID__" id="field-__ID__" value="1" />1</label><label><input type="checkbox" name="field-__ID__" id="field-__ID__" value="2" />2</label>'}],value:[]},{id:"stream"}))}).add("JavaScript widget",function(){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_10__.a,_extends({},{required:!0,blockDefinitions:[{key:"date",dangerouslyRunInnerScripts:!0,html:'<input type="text" name="field-__ID__" id="field-__ID__" /><script>flatpickr("#field-__ID__");<\/script>'}],value:[]},{id:"stream"}))})}.call(this,__webpack_require__(188)(module))},662:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(18),__webpack_require__(21),__webpack_require__(27),__webpack_require__(1),__webpack_require__(65),__webpack_require__(78),__webpack_require__(79),__webpack_require__(16),__webpack_require__(15);var utils=__webpack_require__(2);function _slicedToArray(arr,i){return function(arr){if(Array.isArray(arr))return arr}(arr)||function(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function _toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null==arguments[i]?{}:arguments[i],ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))),ownKeys.forEach(function(key){_defineProperty(target,key,source[key])})}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var updateChildren=function(state,fieldId,parentId){var childrenIds=Object(utils.e)(state,fieldId,parentId);return Object(utils.b)(state,fieldId,childrenIds,function(block){return _objectSpread({},block,{shouldUpdate:!0})})},setChildren=function(state,fieldId,parentId,childrenIds){var fieldData=state[fieldId],blocks=fieldData.blocks;return null===parentId?fieldData=_objectSpread({},fieldData,{rootBlocks:childrenIds}):blocks=_objectSpread({},blocks,_defineProperty({},parentId,_objectSpread({},blocks[parentId],{value:childrenIds}))),_objectSpread({},state,_defineProperty({},fieldId,_objectSpread({},fieldData,{blocks:blocks})))},insertBlock=function(state,fieldId,parentId,index,blockId,block){var siblingsIds=_toConsumableArray(Object(utils.e)(state,fieldId,parentId));siblingsIds.splice(index,0,blockId);var fieldData=(state=setChildren(state,fieldId,parentId,siblingsIds))[fieldId];return state=_objectSpread({},state,_defineProperty({},fieldId,_objectSpread({},fieldData,{blocks:_objectSpread({},fieldData.blocks,_defineProperty({},blockId,block))}))),updateChildren(state,fieldId,parentId)},cloneBlock=function(state,fieldId,parentId,blockId){var blocks=_objectSpread({},state[fieldId].blocks),newBlockId=Object(utils.k)(),newBlock=_objectSpread({},blocks[blockId],{parent:parentId}),newBlocks=_defineProperty({},newBlockId,newBlock),blockDefinition=Object(utils.i)(state,fieldId,blockId),value=newBlock.value;if(Object(utils.q)(blockDefinition)){var newValue=[],_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=value[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var childBlockId=_step.value,_cloneBlock2=_slicedToArray(cloneBlock(state,fieldId,newBlockId,childBlockId),2),newChildId=_cloneBlock2[0];newBlocks=_objectSpread({},newBlocks,newChildrenBlocks=_cloneBlock2[1]),newValue.push(newChildId)}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}value=newValue}else if(!Object(utils.n)(blockDefinition)){var _newValue=[],_iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _step2,_iterator2=value[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){var _childBlockId=_step2.value,_cloneBlock4=_slicedToArray(cloneBlock(state,fieldId,newBlockId,_childBlockId),2),newChildBlockId=_cloneBlock4[0],newChildrenBlocks=_cloneBlock4[1];_newValue.push(newChildBlockId),newBlocks=_objectSpread({},newBlocks,newChildrenBlocks)}}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{_iteratorNormalCompletion2||null==_iterator2.return||_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}value=_newValue}return newBlock.value=value,[newBlockId,newBlocks]},duplicateBlock=function(state,fieldId,blockId){var fieldData=state[fieldId],blocks=fieldData.blocks,parentId=blocks[blockId].parent,_cloneBlock6=_slicedToArray(cloneBlock(state,fieldId,parentId,blockId),2),newBlockId=_cloneBlock6[0],newBlocks=_cloneBlock6[1];state=_objectSpread({},state,_defineProperty({},fieldId,_objectSpread({},fieldData,{blocks:_objectSpread({},blocks,newBlocks)})));var block=newBlocks[newBlockId];block.hidden=!0;var index=function(state,fieldId,blockId){var block=state[fieldId].blocks[blockId];return _toConsumableArray(Object(utils.e)(state,fieldId,block.parent)).indexOf(blockId)}(state,fieldId,blockId)+1;return insertBlock(state,fieldId,parentId,index,newBlockId,block)},conversions=__webpack_require__(121);function reducer_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null==arguments[i]?{}:arguments[i],ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))),ownKeys.forEach(function(key){reducer_defineProperty(target,key,source[key])})}return target}function reducer_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var initialState={};__webpack_exports__.a=function(){var state=0<arguments.length&&void 0!==arguments[0]?arguments[0]:initialState,action=1<arguments.length?arguments[1]:void 0;switch(action.type){case"INITIALIZE_STREAM_FIELD":var data=Object(utils.c)(action.data),required=data.required,minNum=data.minNum,maxNum=data.maxNum,icons=data.icons,labels=data.labels,gutteredAdd=data.gutteredAdd,blockDefinitions=data.blockDefinitions,isMobile=data.isMobile,value=data.value;return state=reducer_objectSpread({},state,reducer_defineProperty({},action.id,{required:required,minNum:minNum,maxNum:maxNum,icons:icons,labels:labels,gutteredAdd:gutteredAdd,blockDefinitions:blockDefinitions,isMobile:isMobile})),Object(conversions.b)(state,action.id,value);case"SET_IS_MOBILE":return reducer_objectSpread({},state,reducer_defineProperty({},action.id,reducer_objectSpread({},state[action.id],{isMobile:action.isMobile})));case"BLOCK_UPDATED":var fieldId=action.fieldId,blockId=action.blockId;return Object(utils.a)(state,fieldId,blockId,function(block){return reducer_objectSpread({},block,{shouldUpdate:!1})});case"CHANGE_BLOCK_VALUES":var _fieldId=action.fieldId,_blockId=action.blockId,_value=action.value,parentBlockId=(state=Object(utils.a)(state,_fieldId,_blockId,function(block){return reducer_objectSpread({},block,{value:_value,shouldUpdate:!0})}))[_fieldId].blocks[_blockId].parent;if(null!==parentBlockId){var parentBlockDefinition=Object(utils.i)(state,_fieldId,parentBlockId);Object(utils.q)(parentBlockDefinition)&&(state=Object(utils.a)(state,_fieldId,parentBlockId,function(block){return reducer_objectSpread({},block,{shouldUpdate:!0})}))}return state;case"TOGGLE_BLOCK":var _fieldId2=action.fieldId,_blockId2=action.blockId;return Object(utils.a)(state,_fieldId2,_blockId2,function(block){return reducer_objectSpread({},block,{closed:void 0!==block.closed&&!block.closed,shouldUpdate:!0})});case"SHOW_BLOCK":var _fieldId3=action.fieldId,_blockId3=action.blockId;return Object(utils.a)(state,_fieldId3,_blockId3,function(block){return reducer_objectSpread({},block,{hidden:!1,shouldUpdate:!0})});case"HIDE_BLOCK":var _fieldId4=action.fieldId,_blockId4=action.blockId;return Object(utils.a)(state,_fieldId4,_blockId4,function(block){return reducer_objectSpread({},block,{hidden:!0,shouldUpdate:!0})});case"ADD_BLOCK":return function(state,fieldId,parentId,index,type){var blockDefinitions,fieldData=state[fieldId];blockDefinitions=null===parentId?fieldData.blockDefinitions:Object(utils.i)(state,fieldId,parentId).children;var blockDefinition=Object(utils.d)(blockDefinitions,type),_getNewBlock2=_slicedToArray(Object(utils.j)(parentId,blockDefinition),3),blockId=_getNewBlock2[0],block=_getNewBlock2[1],extraBlocks=_getNewBlock2[2];return state=_objectSpread({},state,_defineProperty({},fieldId,_objectSpread({},fieldData,{blocks:_objectSpread({},fieldData.blocks,extraBlocks)}))),insertBlock(state,fieldId,parentId,index,blockId,block)}(state,action.fieldId,action.parentId,action.index,action.blockType);case"DUPLICATE_BLOCK":var _fieldId6=action.fieldId,_blockId5=action.blockId;return duplicateBlock(state,_fieldId6,_blockId5);case"MOVE_BLOCK":return function(state,fieldId,blockId,newIndex){if(0>newIndex)throw new Error("Index ".concat(newIndex," is out of bounds."));var block=state[fieldId].blocks[blockId],siblingsIds=_toConsumableArray(Object(utils.e)(state,fieldId,block.parent));if(newIndex>=siblingsIds.length)throw new Error("Index ".concat(newIndex," is out of bounds."));var oldIndex=siblingsIds.indexOf(blockId);return siblingsIds.splice(oldIndex,1),siblingsIds.splice(newIndex,0,blockId),state=setChildren(state,fieldId,block.parent,siblingsIds),updateChildren(state,fieldId,block.parent)}(state,action.fieldId,action.blockId,action.newIndex);case"DELETE_BLOCK":return function(state,fieldId,blockId){var fieldData=state[fieldId],rootBlocks=_toConsumableArray(fieldData.rootBlocks),blocks=_objectSpread({},fieldData.blocks),block=blocks[blockId],shouldUpdateSiblings=!0;if(null===block.parent)rootBlocks=rootBlocks.filter(function(childBlockId){return childBlockId!==blockId});else{var parentBlockDefinition=Object(utils.i)(state,fieldId,block.parent),parentBlock=blocks[block.parent];Object(utils.q)(parentBlockDefinition)&&(shouldUpdateSiblings=!1),blocks[block.parent]=_objectSpread({},parentBlock,{closed:!1,shouldUpdate:!0,value:parentBlock.value.filter(function(childBlockId){return childBlockId!==blockId})})}var _iteratorNormalCompletion3=!0,_didIteratorError3=!1,_iteratorError3=void 0;try{for(var _step3,_iterator3=Object(utils.f)(state,fieldId,blockId,!0)[Symbol.iterator]();!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=!0)delete blocks[_step3.value]}catch(err){_didIteratorError3=!0,_iteratorError3=err}finally{try{_iteratorNormalCompletion3||null==_iterator3.return||_iterator3.return()}finally{if(_didIteratorError3)throw _iteratorError3}}return state=_objectSpread({},state,_defineProperty({},fieldId,_objectSpread({},fieldData,{rootBlocks:rootBlocks,blocks:blocks}))),shouldUpdateSiblings?updateChildren(state,fieldId,block.parent):state}(state,action.fieldId,action.blockId);default:return state}}}},[[272,1,2]]]);
//# sourceMappingURL=main.256d76e5854b17cc3fe0.bundle.js.map